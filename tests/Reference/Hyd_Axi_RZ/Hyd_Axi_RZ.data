# Hydraulique 2D axisymetrique R,Z laminaire schema amont #
# PARALLEL OK 8 #
dimension 2

Bidim_Axi

Pb_hydraulique pb

Domaine dom

# BEGIN MESH #
Mailler dom 
{
	Pave TUBE_Axi
		{
		Origine 0. 0.
		Longueurs 0.006 1.
		Nombre_de_Noeuds 11 101 
		Facteurs 1.0 1.0
		}
		{
		bord ENTREE   Y = 0.        0. <= X <= 0.006   
		bord SORTIE   Y = 1.       0. <= X <= 0.006  
		bord AXE      X = 0.        0. <= Y <= 1.
		bord PAROI    X = 0.006     0. <= Y <= 1.	
		} 


}

# END MESH #
# BEGIN PARTITION
Partition dom
{
	Partitionneur metis { Nb_parts 2 }
	Larg_joint 1
	Nom_Zones DOM
}
Fin
END PARTITION #

# BEGIN SCATTER
Scatter DOM.Zones dom
END SCATTER #

VDF dis

Schema_Euler_explicite sch
Lire sch
{
	tinit 0.
	tmax 10000.
	dt_min 1.e-6
	dt_max 2.5e-2
	dt_impr 5.e-7
	dt_sauv 100
        tmax 10.
}

Fluide_Incompressible eau
Lire eau
{
	mu  Champ_Uniforme 1 1.e-3
	rho Champ_Uniforme 1 1000

}

Associate pb dom
Associate pb sch
Associate pb eau

Discretize pb dis

Lire pb
{
	Navier_Stokes_standard
	{
		solveur_pression GCP { precond ssor { omega 1.651 } seuil 1e-12 }	
		convection { amont }
		diffusion { }
		conditions_initiales {
			vitesse champ_uniforme 2 0 0
			}
		boundary_conditions {
			
			PAROI paroi_fixe
			AXE   Symetrie
		
			SORTIE Frontiere_ouverte_pression_imposee  Champ_Front_uniforme 1 0.
			ENTREE Frontiere_ouverte_vitesse_imposee  Champ_Front_uniforme 2 0. 0.05
		}

	}

	Postraitement
	{
		Sondes
		{
			sonde_vit vitesse periode 0.1 segment  20 3.e-4 0.8  57.e-4 0.8
			sonde_vit_temps  vitesse periode 0.1 points 1 3.e-4 0.8
		
		}
		Champs dt_post 5.5
		{
		vitesse elem
	        pression elem 
		}
	}
}
Solve pb
Fin
