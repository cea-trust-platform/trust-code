%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer Presentation
% LaTeX Template
% Version 1.0 (10/11/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%    PACKAGES AND THEMES
%----------------------------------------------------------------------------------------

%%TO COMPILE AND GENERATE THE INDEX
%pdflatex TRUST_tutorial.tex
%pdflatex TRUST_tutorial.tex

%% TO IMPRESS 
% select scale : 180%

\documentclass[10pt, hyperref={unicode=true,pdfusetitle, bookmarks=true,bookmarksnumbered=false,bookmarksopen=false, breaklinks=false,pdfborder={0 0 1},backref=true,colorlinks=true,linkcolor=darkblue,pageanchor, urlcolor=darkblue}]{beamer}

\mode<presentation> {

% The Beamer class comes with a number of default slide themes
% which change the colors and layouts of slides. Below this is a list
% of all the themes, uncomment each in turn to see what they look like.

%\usetheme{default}
%\usetheme{AnnArbor}
%\usetheme{Antibes}
%\usetheme{Bergen}
%\usetheme{Berkeley}
%\usetheme{Berlin}
%\usetheme{Boadilla}
\usetheme{CambridgeUS}
%\usetheme{Copenhagen}
%\usetheme{Darmstadt}
%\usetheme{Dresden}
%\usetheme{Frankfurt}
%\usetheme{Goettingen}
%\usetheme{Hannover}
%\usetheme{Ilmenau}
%\usetheme{JuanLesPins}
%\usetheme{Luebeck}
%\usetheme{Madrid}
%\usetheme{Malmoe}
%\usetheme{Marburg}
%\usetheme{Montpellier}
%\usetheme{PaloAlto}
%\usetheme{Pittsburgh}
%\usetheme{Rochester}
%\usetheme{Singapore}
%\usetheme{Szeged}
%\usetheme{Warsaw}

% As well as themes, the Beamer class has a number of color themes
% for any slide theme. Uncomment each of these in turn to see how it
% changes the colors of your current slide theme.

%\usecolortheme{albatross} % bleubleu
%\usecolortheme{beaver} % rouge
%\usecolortheme{beetle} % bleu/gris
%\usecolortheme{crane}  % jaune
%\usecolortheme{dolphin} % bleu
%\usecolortheme{dove}  % blanc
%\usecolortheme{fly} % gris
%\usecolortheme{lily} % bleu
%\usecolortheme{orchid} % bleu
%\usecolortheme{rose} % bleu
%\usecolortheme{seagull} % gris
%\usecolortheme{seahorse} % bleu pale
%\usecolortheme{whale} % bleu
%\usecolortheme{wolverine} % jaune/bleu

%\setbeamertemplate{footline} % To remove the footer line in all slides uncomment this line
%\setbeamertemplate{footline}[page number] % To replace the footer line in all slides with a simple slide count uncomment this line

%\setbeamertemplate{navigation symbols}{} % To remove the navigation symbols from the bottom of all slides uncomment this line

}

\usepackage{graphicx} % Allows including images
\definecolor{darkblue}{HTML}{3535B4}
\usepackage[T1]{fontenc}
\usepackage{alltt}

% block
\setbeamercolor{block title}{fg=blue,bg=blue!20!bg}
\setbeamercolor{block body}{bg=block title.bg!30!bg}

% alertblock
\setbeamercolor{block title alerted}{fg=white,bg=orange!90!black}
\setbeamercolor{block body alerted}{bg=block title alerted.bg!10!bg}

% exampleblock
\setbeamercolor{block title example}{fg=white,bg=violet!90!bg}
\setbeamercolor{block body example}{bg=block title example.bg!10!bg}

%----------------------------------------------------------------------------------------
%    TITLE PAGE
%----------------------------------------------------------------------------------------
%\title[Short title]{Long title}
\title[TRUST Baltik Project Tutorial V1.8.3beta]{TRUST Baltik Project Tutorial V1.8.3beta}
% The short title appears at the bottom of every slide, the full title is only on the title page

%\author{John Smith} % Your name
\institute[CEA/DES/ISAS/DM2S/STMF] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{
CEA Saclay \\ % Your institution for the title page
\medskip
\textit{Support team: trust@cea.fr} % Your email address
\medskip
}
\date{\today} % Date, can be changed to a custom date


\begin{document}

\usebeamercolor{block title}
\colorlet{blocktitlefgsave}{block title.fg} 
\colorlet{blocktitlebgsave}{block title.bg}
\usebeamercolor{normal text}
\usebeamercolor{block body}
\colorlet{blockbodyfgsave}{block body.fg}
\colorlet{blockbodybgsave}{block body.bg}   
\usebeamercolor{normal text}

\usebeamercolor{block title example}
\colorlet{exblocktitlefgsave}{block title example.fg}   
\colorlet{exblocktitlebgsave}{block title example.bg}
\usebeamercolor{normal text}
\usebeamercolor{block body example}
\colorlet{exblockbodyfgsave}{block body example.fg}
\colorlet{exblockbodybgsave}{block body example.bg} 
\usebeamercolor{normal text}

\usebeamercolor{block title alerted}
\colorlet{exblocktitlefgsave}{block title alerted.fg}   
\colorlet{exblocktitlebgsave}{block title alerted.bg}
\usebeamercolor{normal text}
\usebeamercolor{block body alerted}
\colorlet{exblockbodyfgsave}{block body alerted.fg}
\colorlet{exblockbodybgsave}{block body alerted.bg} 
\usebeamercolor{normal text}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\titlepage % Print the title page as the first slide
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%    PRESENTATION SLIDES
%----------------------------------------------------------------------------------------
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\tableofcontents [hideallsubsections]
%\begin{columns}[c] 
%\column{.45\textwidth}
%\tableofcontents[sections={1-4},hideallsubsections]
%\column{.5\textwidth} 
%\tableofcontents[sections={5-8},hideallsubsections]
%\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{{\bf{TRUST initialization }}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{TRUST initialization}\label{initTrust}
\begin{block}{TRUST commands}

\begin{itemize}
\item Load TRUST environment:\\
\vspace{0.2cm}
\begin{itemize}
\item On CEA Saclay PCs, TRUST versions are available with (e.g. X.Y.Z=1.8.2):\\
%\vspace{0.2cm}
\textbf{source  /home/triou/env\_TRUST\_X.Y.Z.sh}
%\vspace{0.5cm}
\item On your own computer, download and install the latest version of TRUST in your local folder \$MyPathToTRUSTversion (unless this was already performed), then write on the terminal:\\
%\vspace{0.2cm}
\textbf{source  \$MyPathToTRUSTversion/env\_TRUST.sh}
%\vspace{0.5cm}
\end{itemize}
%\vspace{0.2cm}

Ensure that the configuration is ok and locate the sources:\\
\texttt{\$ echo \$TRUST\_ROOT}
\vspace{0.2cm}

\item Now, copy a TRUST test case that we will need later:\\
\texttt{\$ mkdir -p Formation\_TRUST/yourname}\\
\texttt{\$ cd Formation\_TRUST/yourname}\\
\texttt{\$ trust -copy upwind}\\
\texttt{\$ cd upwind}\\
Replace "format lml" by "format lata" in the data file\\
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{{\bf{Eclipse initialization}}}
\subsection{{\bf{Download\& configure eclipse}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Download Eclipse}

\begin{exampleblock}{Download Eclipse}
\begin{itemize}
\item Visit the Eclipse Foundation website: \url{http://www.eclipse.org/downloads/eclipse-packages/}
\item Click on the last version  \textbf{Eclipse 2020-12 (4.18)}.
\item Select \textbf{Eclipse IDE for C/C++ Developers} $\rightarrow$ \textbf{Linux 64-bits}
\item Download the \textbf{eclipse-cpp-2020-12-R-linux-gtk-x86\_64.tar.gz} package in your directory \texttt{Formation\_TRUST/yourname}
\item For OS older than CentOs7, Ubuntu16.04 and Fedora22, download \textbf{Eclipse Mars} version: \textbf{eclipse-cpp-mars-2-linux-gtk-x86\_64.tar.gz}
\end{itemize}
\end{exampleblock}

\begin{exampleblock}{Untar the downloaded archive}
 \texttt{\$ cd Formation\_TRUST/yourname} \\
 \texttt{\$ tar xfz eclipse-*.tar.gz} \\
 \texttt{\$ cd eclipse}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Configure Eclipse}

%\begin{exampleblock}{For Ubuntu16.04, Fedora22, CentOs 7 and recents OS}
%Edit the \textit{eclipse.ini} an replace the line:\\
%\textbf{Xms256m} \\
%by \\
%\textbf{Xms512m}
%\end{exampleblock}

\begin{exampleblock}{If you downloaded \textbf{Eclipse Mars} version:}
Edit the \textit{eclipse.ini} file, by deleting the last 3 lines (MaxPermSize, Xms and Xmx) and adding the following ones: \\
\textbf{Xmn256m} \\
\textbf{Xss2m}\\
\textbf{server}\\
\textbf{Xms512m}\\
\textbf{Xmx2048m}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{{\bf{Create TRUST platform project under Eclipse}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a TRUST platform project under Eclipse (I)}

\begin{exampleblock}{Launch Eclipse}
\texttt{\$ mkdir -p Formation\_TRUST/yourname/workspace}\\
\texttt{\$ cd Formation\_TRUST/yourname/eclipse}\\
\texttt{\$ ./eclipse \&}
%
\begin{itemize}
\item Workspace: Browse the directory \texttt{Formation\_TRUST/yourname/workspace} 
\item Welcome : close x button
\end{itemize}
%
\end{exampleblock}

\begin{exampleblock}{Create the project}
\begin{itemize}
\item Create a preconfigured TRUST project:\\
\texttt{\$ trust -eclipse}
\item Then, follow the inscructions displayed on the terminal to import TRUST sources.
\end{itemize}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a TRUST platform project under Eclipse (III)}

\begin{exampleblock}{Configure the project and launch a computation}
\begin{itemize}
\item From the "Project Explorer" tab, right click on your TRUST project $\rightarrow$ "Debug As" $\rightarrow$ "Debug Configurations..."\\
  \vspace{0.1cm}
  $\Rightarrow$ Click on the triangle on the left of "C/C++ Application" $\rightarrow$ Select the debug configuration alread created with trust -eclipse
  \vspace{0.1cm}
  \begin{itemize}
  \item The "Main" tab tells Eclipse which binary will be used: \\
  $\Rightarrow$ Project: your project's name \\
  $\Rightarrow$ "C/C++ Application": point to the TRUST \$exec\_debug \\
  \vspace{0.1cm}
  \item The "Arguments" tab tells Eclipse which datafile to run:\\
  $\Rightarrow$ "Program arguments" $\rightarrow$ specify datafile's name (here upwind) \\
  $\Rightarrow$ "Working directory" $\rightarrow$ uncheck "Use default" and type path to datafile \\
  $\Rightarrow$ "Apply"
  \end{itemize}
  \vspace{0.1cm}
  $\Rightarrow$ "Debug" : your datafile will be run with the specified executable
\end{itemize}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{{\bf{Create a Baltik project}}}
\subsection{{\bf{Creation of a Baltik project}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Creation of a Baltik project}
\begin{block}{Create an empty Baltik}

\begin{itemize}
\item Create a directory for your project:\\
\texttt{\$ cd Formation\_TRUST/yourname}

\item Create your project from a basic project template using TRUST commands:\\
%\texttt{\$ cp -r \$TRUST\_ROOT/bin/baltik/templates/basic my\_project}\\
\texttt{\$ trust -baltik my\_project}\\
\texttt{\$ cd my\_project}\\

\texttt{\$ ls -l}

You can see that you have now:
    \begin{itemize}
    \item [$\circ$] three directories: share, src and tests, and
    \item [$\circ$] one "project.cfg" file.
    \item [$\circ$] one "README.BALTIK" file.
    \item [$\circ$] one "configure" script.
    \end{itemize}
    \end{itemize}    
\end{block}

\begin{block}{Add sources to your Baltik}
\begin{itemize}
\item Copy the following TRUST .cpp file into your baltik project:\\
\texttt{\$ mkdir -p src/TRUST\_modif} \\
\texttt{\$ cp \$TRUST\_ROOT/src/MAIN/mon\_main.cpp src/TRUST\_modif/}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsection{{\bf{Creation of your git repository}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create your git repository}

\begin{alertblock}{Git commands}
You will now create a git repository to manage your developments.
\begin{itemize}

\item Initialize an empty git repository:\\
\texttt{\$ git init}\\

\item Display your working tree status:\\
\texttt{\$ git status}\\

\item You can see 3 file and src directory on the "untracked" files section.
It means that they are not yet followed by the git repository.

\item Add src and project.cfg to your git repository in order to prepare a commit:\\
\texttt{\$ git add src project.cfg}%-\,-all}

\item Now, you can commit your files to add it to your git repository:\\
\texttt{\$ git commit -m "Initial commit"}\\
Remark: If you are not able to commit files, you should first configure your username and email in git with :\\
git config -\,-global user.name "Your Name" \\
git config -\,-global user.email you@example.com

\end{itemize}

\end{alertblock}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create your git repository}

\begin{alertblock}{Git commands}
\begin{itemize}
\item Display your working tree status:\\
\texttt{\$ git status}\\
Only README.BALTIK and configure script (automatically generated) are not added to your git repository.
\item Display the list of commits:\\
\texttt{\$ git log}
\end{itemize}
\end{alertblock}

\begin{block}{Baltik commands}
\begin{itemize}
\item Edit your project file "project.cfg" to specify name, author and executable.
\item Then configure your project:\\
\texttt{\$ baltik\_build\_configure -execute}\\
this command launches both scripts: the "baltik\_build\_configure" and "configure".
\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create your git repository}
\begin{alertblock}{Git commands}

\begin{itemize}
\item Check the status of your git repository with the "-\,-ignored" option to see the status of all files:\\
\texttt{\$ git status -\,-ignored}\\

\item You can see that 
\begin{itemize}
\item "project.cfg" has been modified.
\item there are new untracked files: these files are not on the git repository
\end{itemize}

\item To see only the changes on the git repository files:\\
\texttt{\$ git status -uno}\\

\item Track changes via gitk (GUI interface of Git):\\
\texttt{\$ gitk \&} \\

You can see information about your first commit and actual untracked changes.
\end{itemize}

\end{alertblock}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsection{{\bf{Builds}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{}
\begin{block}{Make a basic build}

\begin{itemize}
\item To make a basic build:\\
\texttt{\$ cd Formation\_TRUST/yourname/my\_project}

\item Configure your project:\\
\texttt{\$ ./configure}

\item Build your project in different modes:\\
    \begin{itemize}
    \item [$\circ$] Build an optimized (-03 option) version:\\
    \texttt{\$ make optim}
    \item [$\circ$] Build a debug (-g -O0 option with asserts) version:\\
    \texttt{\$ make debug}
    \end{itemize}

\item Initialize your baltik project environment:\\
\texttt{\$ source env\_my\_project.sh}\\

\item Check that executables are available:\\
\texttt{\$ ls \$exec}\\
\texttt{\$ ls \$exec\_opt}\\
\texttt{\$ ls \$exec\_debug}\\

\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{}
\begin{block}{Other builds}

\begin{itemize}
\item List other options available for the make command:\\
\texttt{\$ make help}

\item Build an :
\begin{itemize}
\item optimized binary for profiling (option -pg -O3):\\
\texttt{\$ make prof}\\
\texttt{\$ ls \$exec\_pg}

\item optimized binary for test coverage (option -gcov -O3):\\
\texttt{\$ make gcov}\\
\texttt{\$ ls \$exec\_gcov}
\end{itemize}

Notice that TRUST optimized binary for profiling or a TRUST optimized binary for test coverage must exist in order to be able to compile your baltik's profiling or test coverage executable. \\
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\subsection{{\bf{Using Eclipse}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{frame}
%\frametitle{}
%\begin{exampleblock}{Eclipse}

%Do the second part of \$TRUST\_ROOT/src/Readme\_eclipse.pdf file (Create a BALTIK project):
%\begin{itemize}
%\item to create your baltik project
%\item and launch the upwind test case with Eclipse.
%\end{itemize}

%\end{exampleblock}
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\section{{\bf{Create a basic BALTIK project without dependency}}}
%\begin{frame}
%\tableofcontents[sections={1-5},currentsection, currentsubsection]
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a basic BALTIK project without dependency (I)}

\begin{block}{Initialize baltik environnement}
 \texttt{\$ source env\_my\_project.sh } \\
 \texttt{\$ echo \$project\_directory/src }
\end{block}

\begin{exampleblock}{Launch Eclipse}
\texttt{\$ cd Formation\_TRUST/yourname/eclipse } \\
\texttt{\$ ./eclipse \& }
\end{exampleblock}

\begin{exampleblock}{Create the project}
\begin{itemize}
\item File $\rightarrow$ New $\rightarrow$ Project $\rightarrow$ C/C++ $\rightarrow$ "Makefile Project with Existing Code" \\
  $\Rightarrow$ Project name: MY\_BALTIK \\
  $\Rightarrow$ Existing Code Location: copy string matching \texttt{\$project\_directory/src} \\
  $\Rightarrow$ Toolchain for Indexer Settings: "Linux GCC" \\
  $\Rightarrow$ Finish \\
  $\Rightarrow$ Wait to have 100\% at the bottom right corner of the window  (C/C++ indexer).
\end{itemize}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a basic BALTIK project without dependency (II)}

\begin{exampleblock}{Configure the BALTIK project and link it with TRUST}
\begin{itemize}
\item From the "Project Explorer" tab, right click on MY\_BALTIK $\rightarrow$ Properties \\
  $\Rightarrow$ Builders: check "CDT Builder" \\
  $\Rightarrow$ C/C++ Build : 
  \begin{itemize}
  \item Builder Settings: Build directory: \texttt{\$\{workspace\_loc:/MY\_BALTIK\}/../} or copy the string matching \texttt{\$project\_directory/} \\
  \item Behavior: check "Build (Incremental build)": debug optim (instead of all) 
  \end{itemize}
  $\Rightarrow$ Project References: check your TRUST project $\rightarrow$ Apply and Close
\end{itemize}
\end{exampleblock}
  
\begin{exampleblock}{Build the BALTIK project}
From the "Project Explorer" tab, right click MY\_BALTIK $\rightarrow$ Index $\rightarrow$ Rebuild \\
  $\Rightarrow$ Wait to have 100\% at the bottom right corner of the window  (C/C++ indexer). \\
  Right click MY\_BALTIK $\rightarrow$ Build Project \\
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a basic BALTIK project without dependency (III)}

\begin{exampleblock}{Launch a computation}
\begin{itemize}
\item From the "Project Explorer" tab, right click MY\_BALTIK $\rightarrow$ "Debug As" $\rightarrow$ "Debug Configurations..." \\
  $\Rightarrow$ C/C++ Application $\rightarrow$ New configuration
  \begin{itemize}
  \item In the "Main" tab:\\
  $\Rightarrow$ Project: MY\_BALTIK \\
  $\Rightarrow$ C/C++ Application: \texttt{\$\{workspace\_loc:/MY\_BALTIK\}/../my\_project} or copy the string matching \texttt{\$exec\_debug} \\
  $\Rightarrow$ "Apply" 
  \item In the "Arguments" tab:\\
  $\Rightarrow$ Program arguments $\rightarrow$ specify the name of your datafile (upwind) \\
  $\Rightarrow$ Working directory $\rightarrow$ uncheck "Use default" and type path to datafile's directory \\
  $\Rightarrow$ "Apply"
  \end{itemize}
  $\Rightarrow$ Debug
\end{itemize}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\section{{\bf{Useful shortcuts in sources}}}
%\begin{frame}
%\tableofcontents[sections={1-5},currentsection, currentsubsection]
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Useful shortcuts in sources}

\begin{exampleblock}{Shortcuts}
\vspace{0.2cm}
\begin{itemize} 
\item Open a cpp file from Project Explorer tab: \\
  Double click on TRUST-X.Y.Z $\rightarrow$ Kernel $\rightarrow$ Framework $\rightarrow$ Probleme\_base.cpp \\ \vspace{0.2cm}
\item In the cpp file: Right click on method "initialize()" \\
  $\Rightarrow$ F3: Opens Declaration \\
  $\Rightarrow$ F4: Open Type Hierarchy \\
  $\Rightarrow$ Ctrl+Alt+H: Open Call Hierarchy \\
  $\Rightarrow$ "Ctrl+PageUp" and "Ctrl+PageDown": Move from a tab to another
\end{itemize}
\end{exampleblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{{\bf{Modify the cpp sources}}}
\subsection{{\bf{Create a new cpp class}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}

\begin{block}{Baltik commands}
\begin{itemize}
\item Create a new folder for your own classes:\\
\texttt{\$ mkdir -p \$project\_directory/src/my\_module}\\
\texttt{\$ cd \$project\_directory/src/my\_module}\\
\item Create your first class "my\_first\_class" with template:\\
\texttt{\$ baltik\_gen\_class my\_first\_class}\\
\end{itemize}
\end{block}

\begin{alertblock}{Git commands}
\begin{itemize}
\item Display the status of your repository:\\
\texttt{\$ git status .}\\

\item Add your new class to your git repository to follow your modifications:\\
\texttt{\$ git add my\_first\_class.*}\\
\texttt{\$ git commit -m "Add my\_first\_class src"}\\
\end{itemize}
\end{alertblock}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}

\begin{block}{Baltik commands}
\begin{itemize}
\item Have a look at the 2 files my\_first\_class.h|cpp.\\

\item Each time a source file is added to the project, you need to configure it:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ ./configure}

\item Build your project with Eclipse or in the terminal.

\item Edit the 2 files with vim|nedit|gedit|emacs.
\end{itemize}
\end{block}

\begin{exampleblock}{Eclipse}
\begin{itemize}
\item Edit the 2 files with Eclipse.

\item For Eclipse use, you have to update your project to see your new files:\\
$\rightarrow$ "Index/Rebuild" from "my\_project" of "Project Explorer"\\
$\rightarrow$ Click on "$\blacktriangleright$" button of "my\_project" in the "Project Explorer"

\end{itemize}
\end{exampleblock}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}
\begin{block}{Baltik commands}

\begin{itemize}
\item We want to change the inheritance of the class in order that it inherits from "Interprete\_geometrique\_base" class
instead of "Objet\_U".

"Interprete\_geometrique\_base" class is the base class of all the keywords doing tasks on domains (eg: Mailler, Lire\_fichier,...).\\
\vspace{0.1cm}
So:
    \begin{itemize}
    \item [$\circ$] add an "\#include <Interprete\_geometrique\_base.h>" in my\_first\_class.h,
    \item [$\circ$] switch "Objet\_U" to "Interprete\_geometrique\_base" in the .h and .cpp files,
    \item [$\circ$] rebuild your application.\\
    \item [$\circ$] An error will occur!
    \end{itemize}

This error indicates that a pure virtual function ("interpreter\_") should be implemented.

\item Look at the "Interprete\_geometrique\_base" class:
    \begin{itemize}
    \item [$\circ$] Eclipse: highlight the string "Interprete\_geometrique\_base" and push the F3 button of your keyboard to open the declaration file of this class
    \item [$\circ$] Or with the HTLM documentation: open the declaration file of the "Interprete\_geometrique\_base" class
    \end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}
\begin{block}{Baltik commands}

\begin{itemize}
\item Look at "interpreter()" method, which calls the "interpreter\_()" method. \\
 This method is called each time a keyword is read in the data file (eg: "Read\_file dom dom.geom", "Solve pb",...).

\item Define the public method "interpreter\_(Entree\&)" in the include file and implement it
(just print a message with "Cerr" like "- My first keyword!") into the cpp file. \\
"Entree" is a TRUST class to read an input stream (from a file for example):\\
"virtual Entree\& interpreter\_(Entree\&);"

\item Rebuild your project and fix your files until the binary of your project is built %(named
%my\_project if you have not changed the name in the project.cfg file)\\
\end{itemize}
\end{block}

\begin{block}{Test your new class}
\begin{itemize}
\item Copy a test case to the build folder of your Baltik project:\\
\texttt{\$ cd \$project\_directory/build/}\\
\texttt{\$ trust -copy Cx}\\
ERROR...

\end{itemize}
\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}
\begin{block}{Test your new class}

\begin{itemize}
\item The error occurs because this test case is not in your baltik but in TRUST project. To be able to copy it, you have to load the full environment (TRUST+our baltik).\\
\texttt{\$ source ../full\_env\_my\_project.sh}\\
\texttt{\$ trust -copy Cx}\\
\texttt{\$ cd Cx}\\

\item Edit the data file:\\
\texttt{\$ nedit Cx.data \&} \\
Add keywords "my\_first\_class" and "End" after the line where \underline{the problem is discretized}.\\
NB: Instead of "End", you can reduce the number of time steps to only 1.\\

\item Run this datafile with your baltik binary to check that this new keyword is recognized (see next slide).
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create a new cpp class}

\begin{exampleblock}{With Eclipse:}
%    \begin{itemize}
%    \item [$\circ$] With Eclipse:\\
    $\rightarrow$ In the project explorer, right click on "MY\_BALTIK" and select "Debug As/Debug configurations..." \\
    $\rightarrow$ In "Main" tab, check "Disable auto build" then click on "Apply"\\
    $\rightarrow$ In "Arguments" tab, fill "Program arguments:" with "Cx"\\
    $\rightarrow$ "Working directory:" Copy the path to datafile matching \$project\_directory/build/Cx\\
    $\rightarrow$ "Apply" and "Debug"\\
    $\rightarrow$ Click on "Yes" to change the kind of view\\
    $\rightarrow$ Click on "Resume" button to run the calculation until the end\\
\end{exampleblock}    

\begin{block}{On a terminal:}
    \texttt{\$ cd \$project\_directory/build/Cx/}\\
    \texttt{\$ exec=\$exec\_debug trust Cx}\\
\end{block}    
    
\begin{block}{}
\textbf{Nota bene:} "Interprete\_geometrique\_base::interpreter\_()" method is called first,
then it calls "my\_first\_class::interpreter\_()" method.
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{{\bf{Modify your cpp class}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 1}

\begin{itemize}
\item To be able to read object parameters from the datafile using the following syntaxe for example:
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{A}} a\\
{\bf{Read}} a \{ {\bf{dimension}} 3 {\bf{option}} fast \}
\end{alltt}
\end{minipage}}
\end{center}
it is recommended to use \textbf{Param} objects as shown on the next slide. \\
Here, the reading of parameters is done by the readOn method.

\item \textbf{Param} use is the recommended choice in this case (even though many current TRUST classes are still using the old fashion to read parameters), because it
greatly simplifies the coding.
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 1: Example of Param use}
%\vspace{-0.8cm}
\begin{center}
\fbox{ \begin{minipage}[c]{0.98\textwidth}
\begin{alltt}
\small{
\#include <Param.h>\\
Entree\& A::readOn(Entree\& is)\\
\{\\
{\bf{Nom}} opt;\\
{\bf{int}} dim;\\
{\bf{Cerr}} <\textcompwordmark{}< "Reading parameters of A from a stream (cin or file)" <\textcompwordmark{}< {\bf{finl}};\\
{\bf{Param}} \textcolor{orange}{param}(que\_suis\_je());\\
\textcolor{blue}{// Register parameters to be read:}\\
\textcolor{orange}{param}.ajouter("option",\&opt);\\
\textcolor{orange}{param}.ajouter("dimension",\&dim,Param::REQUIRED); \\
%\textcolor{blue}{// Mandatory parameter}\\
\textcolor{blue}{// Read now the parameters from the stream is and produces an error }\\
\textcolor{blue}{// if unknown keyword is read or if braces are not found at the }\\
\textcolor{blue}{// beginning and the end:}\\
\textcolor{orange}{param}.lire\_avec\_accolades\_depuis(is);\\
...\\
return is;\\
\}
}
\end{alltt}
\end{minipage}}
\end{center}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 1}

\begin{itemize}

\item In our case, the read of the parameters will be done by the interpreter() method so the syntax in the data file will be the following:
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{my\_first\_class}} \{ {\bf{domaine}} dom {\bf{option}} 0 \} \\
\textcolor{blue}{\# dom is the domain name \#}
\end{alltt}
\end{minipage}}
\end{center}

\item Add into the "interpreter\_(Entree\&)" method the read of these parameters into braces using the \textbf{Param} object.
\begin{itemize}

\item Do not forget to add "\#include <Param.h>" into the cpp file.
\item If help needed, have a look at the "Interprete\_geometrique\_base" sub-class "Extruder". The data file syntax is :
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{Extruder}} \{ {\bf{domaine}}\;DomainName\;{\bf{nb\_tranches}}\;N\;{\bf{direction}}\;X Y Z \}
\end{alltt}
\end{minipage}}
\end{center}
\end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 1}

\begin{itemize}




\item Now we want to obtain the domain object using its name. 
\begin{itemize}
\item You can have a look at the following method: \\
Interprete\_geometrique\_base::associer\_domaine ( Nom \& nom\_dom)
\item Look the HTML documentation.\\
 What is the task of this method? 
\end{itemize}



\item Once implementation is finished, add a check at the end of the method
"interpreter\_(Entree\&)" and find how to print the domain name:
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{Cerr}} <\textcompwordmark{}< "Option number " <\textcompwordmark{}< option\_number <\textcompwordmark{}< " has been read on the
domain named " <\textcompwordmark{}< ??? <\textcompwordmark{}< {\bf{finl}};
\end{alltt}
\end{minipage}}
\end{center}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}

\begin{block}{Part 1}
\begin{itemize}
\item With Eclipse:

    \begin{itemize}
    \item Build/fix/re-build your project:\\
    $\rightarrow$ "Project" and "Build project"\\
    \item Run the test case:\\
    $\rightarrow$ "Run" and "Debug"\\
    \end{itemize}


\item Or in a terminal:
    \begin{itemize}
    \item Build/fix/re-build your project:\\
    \texttt{\$ cd \$project\_directory}\\
    \texttt{\$ make debug}\\
    \item Run the test case:\\
    \texttt{\$ cd \$project\_directory/build/Cx/}\\
    \texttt{\$ export exec=\$exec\_debug}\\
    \texttt{\$ trust Cx} \\
    In this case, TRUST runs with exec\_debug.
    \end{itemize}
\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 2: Display information about domain boundaries}

\begin{itemize}

\item Edit the "my\_first\_class.cpp" file and add into the "interpreter\_()" method a loop on the boundaries.

Look for help inside the "Domaine", "Zone", "Bord", "Frontiere" classes in the HTML documentation to access to the:
    \begin{itemize}
    \item [$\circ$] Number of boundaries (\textbf{nb\_bords()} method)
    \item [$\circ$] Boundaries (\textbf{bord(int)} method)
    \item [$\circ$] Name of the boundaries (\textbf{le\_nom()} method)
    \item [$\circ$] Number of faces of each boundary (\textbf{nb\_faces()} method)
    \end{itemize}

Print these information with something like:
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{Cerr}} <\textcompwordmark{}< "The boundary named " <\textcompwordmark{}< ??? <\textcompwordmark{}< " has " <\textcompwordmark{}< ??? <\textcompwordmark{}< " faces." <\textcompwordmark{}< {\bf{finl}};
\end{alltt}
\end{minipage}}
\end{center}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 2: compute the sum of the domain's VEF control volumes}
\begin{itemize}
\item Information about control volumes is in the "Zone\_VF" class (a "Zone\_dis" discretized zone) which can't be accessed 
from the domain, but only from the problem. 

So, you need to read another parameter in your data file:\\
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{my\_first\_class}} \{ {\bf{domaine}} dom {\bf{option}} 0 {\bf{problem}} pb \}
\end{alltt}
\end{minipage}}
\end{center}

\item Add the read of a new parameter problem into "my\_first\_class.cpp" file (see "Extraire\_plan::interpreter\_(Entree\&)" method for instance).

\item Remember the "equation" or "problem" UML diagram of the presentation's slides.

\item Look for help inside the "Zone\_VF", "Probleme\_base" and "Equation\_base" into the HTML documentation to access to the:
    \begin{itemize}
    \item [$\circ$] equation (\textbf{equation(int)} method)
    \item [$\circ$] discretized zone (\textbf{zone\_dis()} method)
    \item [$\circ$] control volumes (\textbf{volumes\_entrelaces()} method)
    \end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Modify your cpp class}
\begin{block}{Part 2}

\begin{itemize}
\item You will need to cast the discretized zone returned by the \textbf{zone\_dis()} method into a "Zone\_VF" object.

\item Print the size of the control volumes array with something like:
\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{Cerr}} <\textcompwordmark{}< control\_volumes.size() <\textcompwordmark{}< {\bf{finl}};
\end{alltt}
\end{minipage}}
\end{center}

Where control\_volumes is a \textbf{DoubleVect} returned by the \textbf{Zone\_VF::volumes\_entrelaces()} method.
\item If you look at the "Problem" UML diagram of the presentation's slides, you will notice a better path to access to the discretized zone. \\
 What is this path ?
\item Now, compute and print the sum of the control volumes with a "for" loop.

\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\subsection{{\bf{Add XData tags}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create automated documentation}
\begin{block}{}

\begin{itemize}
\item We want now to add XData tag to create the automated documentation of your new code.
\item First we have to create this documentation for the first time.\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ make gui}
\item Open the documentation file:\\
\texttt{\$ evince \$project\_directory/build/xdata/XTriou/doc.pdf \&}
\item Now we will add comments in our cpp files to add information in the documentation.
\item For this open the help of the TRAD\_2 syntaxe:\\
\texttt{\$ gedit \$project\_directory/build/xdata/XTriou/doc\_TRAD\_2 \&}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create automated documentation}
\begin{block}{}

\begin{itemize}
\item Add a first tag (in comments) into your cpp file just after the openning brace of the 'interpreter\_()' method:\\
\begin{alltt}
\textcolor{blue}{// XD english\_class\_name base\_class\_name TRUST\_class\_name mode description}
\end{alltt}
\item The "english\_class\_name" and "TRUST\_class\_name" can be "my\_first\_class".
\item The "base\_class\_name" is the name of the section in which will appear the information of your new class in the 'doc.pdf' file.
\item The "mode" is to choose with the help of the doc\_TRAD\_2 file. Here we use "-3".
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Create automated documentation}
\begin{block}{}

\begin{itemize}
\item Then add at the end of the lines of type "param.ajouter...", an XD comment like:\\
\begin{alltt}
param.ajouter(...);  \textcolor{blue}{// XD\_ADD\_P type description}
\end{alltt}
where "type" can be (cf 'doc\_TRAD\_2' file): 'int', 'floattant', 'chaine', 'rien'...
\item Compile the documentation:\\
\texttt{\$ make gui}
\item Check that the documentation of your new class is in the new doc:\\
\texttt{\$ evince \$project\_directory/build/xdata/XTriou/doc.pdf \&}
\item To check that the GUI is validated:\\
\texttt{\$ make check\_gui}
\item Notice that you must have XD commands in all your cpp classes.
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{{\bf{Adding prints}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Adding prints}

\begin{block}{}
\begin{itemize}
\item Edit the "\$project\_directory/src/TRUST\_modif/mon\_main.cpp" file of your baltik project using text editor or Eclipse.
\item Add these lines after "Process::imprimer\_ram\_totale(1);" :\\
\textit{std::cout <\textcompwordmark{}< "Hello World to cout." <\textcompwordmark{}< std::endl;\\
std::cerr <\textcompwordmark{}< "Hello World to cerr." <\textcompwordmark{}< std::endl;\\
Cout <\textcompwordmark{}< "Hello World to Cout." <\textcompwordmark{}< finl;\\
Cerr <\textcompwordmark{}< "Hello World to Cerr." <\textcompwordmark{}< finl;\\
Process::Journal() <\textcompwordmark{}< "Hello World to Journal." <\textcompwordmark{}< finl;}\\
\end{itemize}
\end{block}

%\begin{exampleblock}{With Eclipse: Rebuild the code}
%$\rightarrow$ "Build project" from "my\_project" of "Project Explorer"\\
%\end{exampleblock}

\begin{block}{in a terminal: Rebuild the code}
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ make debug optim}\\
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Adding prints}
\begin{block}{}

\begin{itemize}
\item Create an empty data file:\\
\texttt{\$ mkdir -p \$project\_directory/build/hello}\\
\texttt{\$ cd \$project\_directory/build/hello}\\
\texttt{\$ touch hello.data}\\

\item Run the code 
\begin{itemize}
\item sequentially:\\
\texttt{\$ trust hello}
\item in parallel:\\
\texttt{\$ trust hello 4}
\end{itemize} 
and see the differences.


%\item Explanation:
\begin{itemize}
\item "Cout" is equivalent to "std::cout" on the master process only.
Use this output for infos about the physics (convergence, fluxes,...).

\item "Cerr" is equivalent to "std::cerr" on the master process only.
Use this output for warning/errors only.

\item "finl" is equivalent to "std::endl" + "flush()" on the master process.

\item "Journal()" prints to "datafile\_000n.log" files.
Use this output during parallel development to print plumbing infos which would be hidden during production runs.
\end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Adding prints}
\begin{block}{}

\begin{itemize}


\item During a parallel run, the "Journal()" output can be disabled. \\
To verify this, first clean your folder:\\
\texttt{\$ ls *.log}\\
\texttt{\$ trust -clean}\\
and run computation with -journal=0 option \\
\texttt{\$ trust hello 4 -journal=0}\\
\texttt{\$ ls *.log}

\item Other options are available. To get it, run:\\
\texttt{\$ trust hello.data -help\_trust}

\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Adding prints}
\begin{block}{Printing into a file}

\begin{itemize}

\item Now, we will print the control volumes sum into a file for test case Cx. 

\item We want to write in a file with name similar to: \\
DataFileName\_result.txt \\
where "DataFileName" is the name of the data file (eg: Cx).

\item For that, you will:
\begin{itemize}
\item  create an object of the class \textbf{Nom} and fill it by collecting the datafile's name using \textbf{Objet\_U::nom\_du\_cas()} method.
\item complete the datafile's name with the string "\_result.txt" thanks to the "operator+=" method of the class \textbf{Nom}.
\item create the output file with the \textbf{SFichier} class and print the sum into it.
\end{itemize}
\item Compile your project and run Cx datafile: \\
\texttt{\$ cd \$project\_directory/build/Cx/}\\
\texttt{\$ exec=\$exec\_debug trust Cx}
\item Then open the "Cx\_result.txt" file.
\end{itemize}

\end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{{\bf{Parallel exercise}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Parallel exercise}

\begin{block}{Part 1}
\begin{itemize}
\item Run your test case Cx in parallel mode:\\
    \texttt{\$ cd \$project\_directory/build/Cx/}\\
\texttt{\$ trust -partition Cx 2 \textcolor{blue}{\# Partition in 2 subdomains}}\\
\texttt{\$ trust PAR\_Cx 2 \textcolor{blue}{\# 2 processes used}}

\item Compare the files: Cx\_result.txt, PAR\_Cx\_result.txt. \\

 Differences come from the fact that the 2 processors write into the file one after the other one.
So the final content will be the value calculated on the last processor which will acces to the file.

\item You can try to launch one more time the calculation, the result may differ.

\item To have the entire sum, you can apply the \textbf{mp\_sum()} method on the sum obtained and add the print in the .txt file.

\item Compare it to the sum obtained in the sequential run.

\item It is better but we counted several times faces that belongs to the joint and to the virtual zones.
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Parallel exercise}

\begin{block}{Part 1}
\begin{itemize}
\item To parallelize the algorithm, rewrite it with the help of the \textbf{mp\_somme\_vect(DoubleVect\&)} method.

\item Add this print in the .txt file.

\item You should find the same value for the sequential and parallel calculation.
\end{itemize}
\end{block}

\begin{block}{Part 2 (Optional)}
\begin{itemize}
\item Create a "verifie" script to check the resulting value (sequential then parallel).

\item Add a call to "compare\_sonde" in your "verifie" script...
\end{itemize}
\end{block}

\begin{block}{Part 3}
\begin{itemize}
\item To validate parallelization in TRUST, you can use the command "compare\_lata":\\
\texttt{\$ ls *lata }\\
\texttt{\$ compare\_lata  Cx.lata  PAR\_Cx.lata }
\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Parallel exercise}

\begin{block}{Part 3}
\begin{itemize}
\item You can see that there is no differences and the maximal relative error encountered is about 4.e-12.
\item Performances
\texttt{\$ ls *TU }\\
\texttt{\$ meld Cx.TU PAR\_Cx.TU \& }\\
\texttt{\$ meld Cx\_detail.TU PAR\_Cx\_detail.TU \& }\\
\end{itemize}
\end{block}


\begin{block}{Part 4 Debog}
\begin{itemize}
\item Copy a debog test case:\\
\texttt{\$ cd \$project\_directory/build }\\
\texttt{\$ trust -copy Debog\_VEF }\\
\texttt{\$ cd Debog\_VEF }\\
\item Open the Debog\_VEF.data file and search the "Debog" command.
\item Sequential run:\\
\texttt{\$ trust Debog\_VEF }\\
\item You get "seq" and "faces" files.

\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Parallel exercise}
\begin{block}{Part 4 Debog}

\begin{itemize}
\item Partitionning step and creation of the parallel data file:\\
\texttt{\$ trust -partition Debog\_VEF 2 }\\
\item Verify the parallel data file, you must have now "Debog pb seq faces 1.e-6 \textbf{1}".
\item Run in parallel:\\
\texttt{\$ trust PAR\_Debog\_VEF 2 }\\
\item You get debog*.log and DEBOG files.
\item If a value of an array differs between the two calculations and the difference is greater than 1.e-6 then "ERROR" message appears in the log files else we will get "OK" (cf debog.log).\\

\item Add a debog instruction in your file mon\_main.cpp located in \$project\_directory/TRUST\_modif, after the "Hello world" prints put:\\
\texttt{double var = 2.5;}\\
\texttt{Debog::verifier("- Debog test message",var);}

\item Do not forget to add the "\#include <Debog.h>"!
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Parallel exercise}
\begin{block}{Part 4 Debog}

\begin{itemize}
\item Then compile and do the sequential run.
\item You can see a first message.
\item Then do the parallel run and check the debog.log file.
\item Becarefull the debog instruction in the data file must be between the "Discretize" and "Read pb" lines.
\item For more information:\\
\texttt{\$ trust -doc \&} \\
$\rightarrow$ Open the TRUST Generic Guide\\
$\rightarrow$ Click onto the TRUST Reference Manual\\
$\rightarrow$ Search for "Debog" keyword.
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\section{{\bf{PRM file and validation test case}}}
\subsection{{\bf{"trust -prm"}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New share/Validation/Rapports\_automatiques}
\begin{block}{Baltik commands}

\begin{itemize}
\item Create a new prm file:\\
\texttt{\$ cd Formation\_TRUST/yourname/upwind}\\
\texttt{\$ trust -prm upwind}
\item Now you have a upwind.prm file.

\item You have to add this prm validation file in your baltik:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ cd share/Validation/Rapports\_automatiques}

\item Create a new repository for your new prm validation form:\\
\texttt{\$ mkdir -p upwind/src}

\item Add the needed files (data file, mesh \& .prm file):\\
\texttt{\$ cp Formation\_TRUST/yourname/upwind/upwind.data upwind/src}\\
\texttt{\$ cp Formation\_TRUST/yourname/upwind/upwind.geo upwind/src}\\
\texttt{\$ cp Formation\_TRUST/yourname/upwind/upwind.prm upwind/src}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New share/Validation/Rapports\_automatiques}

\begin{alertblock}{Git commands}
\begin{itemize}
\item Add it to your git repository:\\
\texttt{\$ git add upwind}\\
\texttt{\$ git commit -m "New prm"}
\end{itemize}
\end{alertblock}

\begin{block}{Baltik commands}
\begin{itemize}
\item Run this prm:\\
\texttt{\$ cd upwind/}\\
\texttt{\$ Run\_fiche}\\
\item Open the pdf report:\\
\texttt{\$ evince build/rapport.pdf \&}\\
%\item You can see that the pdf contains all the fields and probes post-processed in the data file.
%\item Notice that you have acces to the latex/images/... files in the directory:\\
%\small{\$project\_directory/share/Validation/Rapports\_automatiques/upwind/build/.tmp}
\end{itemize}
\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




\subsection{{\bf{Validation test case}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New tests/Reference/Validation}
\begin{block}{Baltik commands}

\begin{itemize}
\item Create automatically the non-regression test case:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ make check\_optim}\\
\textit{\hspace{0.1cm} Creation of upwind\_jdd1}\\
\textit{\hspace{0.1cm} Creation of upwind\_jdd1/lien\_fiche\_validation}\\
\textit{\hspace{0.1cm} Extracting test case (upwind.data) ...End.}\\
\textit{\hspace{0.1cm} Creation of the file upwind\_jdd1.lml.gz}\\
\textit{\hspace{0.1cm} ...}\\
\item $\rightarrow$ You can see in the report table that PAR\_upwind\_jdd1 has crashed: "CORE" message.\\
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New tests/Reference/Validation}

\begin{alertblock}{Git commands}
\begin{itemize}
\item Lets check the git status before solving this problem:\\
\texttt{\$ git status -uno}\\
\item A new test case based on your PRM file has been created in the directory:\\
\$project\_directory/tests/Reference/Validation/upwind\_jdd1
\end{itemize}
\end{alertblock}

\begin{block}{Baltik commands}
\begin{itemize}
\item Now we want to correct the error, so copy the test case:\\
\texttt{\$ cd \$project\_directory/build}\\
\texttt{\$ trust -copy upwind\_jdd1}\\
ERROR...
\item We have to re-run the configure script to take into account the new test case:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ ./configure}\\
\texttt{\$ cd build}\\
\texttt{\$ trust -copy upwind\_jdd1}

%\item Check the datafiles to see the problem to run in parallel:\\
%\texttt{\$ diff share/Validation/Rapports\_automatiques/upwind/src/upwind.data upwind\_jdd1.data}\\
%NB: upwind\_jdd1.data is readonly.\\
\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New tests/Reference/Validation}
\begin{block}{Baltik commands}

\begin{itemize}
\item Now we will analyse the error:\\
\texttt{\$ cd upwind\_jdd1}\\
\texttt{\$ trust -partition upwind\_jdd1}\\
\texttt{\$ trust PAR\_upwind\_jdd1 2}\\
\item Correct the data file PAR\_upwind\_jdd1.data and re-run it.
\item If it's ok, update the data file in 
\$project\_directory/share/Validation/Rapports\_automatiques/upwind/src\\
("Scatter ../upwind/DOM.Zones dom" $\rightarrow$ "Scatter DOM.Zones dom")\\
\item To Relaunch the last test cases which do not run:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ make check\_last\_pb\_optim}\\
\hspace{0.1cm}{\small{\textit{Changement du jeu de donnees... \\
\hspace{0.1cm}suite a une modification d'un jeu de donnees de la fiche de validation associee. \\
\hspace{0.1cm}...\\
\hspace{0.1cm}Successful tests cases :1/1 }}}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New tests/Reference/Validation}
\begin{alertblock}{Git commands}

\begin{itemize}
\item Add this non-regression test in configuration:\\
\texttt{\$ git status -uno}\\
\texttt{\$ git add tests/Reference/Validation/upwind\_jdd1/upwind\_jdd1.data}\\
\item Commit the modifications on your git repository:\\
\texttt{\$ git commit -m "New reference test"}\\
\texttt{\$ git log}\\
\end{itemize}

\end{alertblock}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{New tests/Reference/Validation}
\begin{block}{Baltik commands}

\begin{itemize}
\item To run all the non regression tests with a optimized binary:\\
\texttt{\$ make check\_all\_optim}

\item To run all the non regression tests with a debug binary:\\
\texttt{\$ make check\_all\_debug}

\item To create an archive to share your work:\\
\texttt{\$ make distrib}\\
\texttt{\$ ls}

\item You have now an archive in tar.gz format of your baltik project.
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%\section{{\bf{HTML documentation exercise}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%\begin{frame}
%%%%\begin{columns}[c] 
%%%%\column{.45\textwidth}
%%%%\tableofcontents[sections={1-4},currentsection, currentsubsection]
%%%%\column{.5\textwidth} 
%%%%\tableofcontents[sections={5-8},currentsection, currentsubsection]
%%%%\end{columns}
%%%%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%\begin{frame}
%%%%\frametitle{HTML documentation exercise}
%%%%\begin{block}{}

%%%%\begin{itemize}
%%%%\item Open the HTML documentation:\\
%%%%\texttt{trust -index}\\
%%%%$\rightarrow$ "C++ classes"

%%%%\item Open the documentation of MacVect.h.

%%%%\item Have a look at the VECT methods.

%%%%\item You can also search via Eclipse.

%%%%\item Find the method names to use for "???" in the following code lines:\\
%%%%\textbf{Noms} StudentNames ;\\
%%%%StudentNames.???(3) ;\\
%%%%StudentNames[0]=... ;\\
%%%%StudentNames[1]=... ;\\
%%%%StudentNames[2]=... ;\\
%%%%\textbf{int} number = StudentNames.???("Betty") ;\\
%%%%\textbf{Nom} NewStudent("Bart") ;\\
%%%%StudentNames.???(NewStudent) ;\\
%%%%Cerr <\textcompwordmark{}< "The number of students is" <\textcompwordmark{}< StudentNames.??? <\textcompwordmark{}< finl ;
%%%%\end{itemize}

%%%%\end{block}
%%%%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{{\bf{Code coverage exercise}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Code coverage exercise}
\begin{block}{}

\begin{itemize}
%\item Browse the TRUST ressources index file:\\
%\texttt{\$ trust -index}

%\item Click on "Test coverage".

%\item Which is the less covered matrix class ?

\item We want to run test cases using rational Runge-Kutta scheme of ordre 2.

\begin{itemize}
    \item [$\circ$] For this go to the Doxygen documentation of RRK2 class to see the methods of this class.
    \item [$\circ$] Use the "trust -check function|class|class::method" command to find and launch tests cases.
    \item [$\circ$] For example: \\
    \texttt{\$ trust -check RRK2::RRK2}
\end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



\section{{\bf{Tools}}}
%\subsection{{\bf{GDB commands}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{frame}
%\begin{columns}[c] 
%\column{.45\textwidth}
%\tableofcontents[sections={1-4},currentsection, currentsubsection]
%\column{.5\textwidth} 
%\tableofcontents[sections={5-8},currentsection, currentsubsection]
%\end{columns}
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{frame}
%\frametitle{GDB commands}
%\begin{block}{}

%\begin{itemize}
%\item Use "gdb" tool to debug or understand the code.

%\item To describe all the commands:\\
%\texttt{\$ man gdb}

%\item To debug the TRUST binary program compiled with -g:\\
%\texttt{\$ exec=\$exec\_debug trust -gdb datafile}

%\item List of the GDB commands:\\
%    \begin{itemize}
%    \item [$\circ$] Run the calculation on the datafile:\\
%    \texttt{(gdb) run datafile}
%    \item [$\circ$] To display the program stack (useful to understand who called what)\\
%    \texttt{(gdb) where}, or\\
%    \texttt{(gdb) bt}
%    \item [$\circ$] To move up in the stack:\\
%    \texttt{(gdb) up}
%    \item [$\circ$] To move down in the stack:\\
%    \texttt{(gdb) down}
%    \item [$\circ$] List the source code:\\
%    \texttt{(gdb) list}
%    \end{itemize}

%\end{itemize}

%\end{block}
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{frame}
%\frametitle{GDB commands}
%\begin{block}{}

%\hspace{1cm} $\color{darkblue}\circ$ {\small{To continue the calculation after a stop:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) cont}, or}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) c}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{To add a breakpoint on a method of a class:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) break class::method}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{To add a breakpoint on a line of the file once inside a method:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) break line}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{Useful to set a breakpoint just after a TRUST error message is printed}}\\
%\hspace{1.3cm} {\small{(before the stack is left):}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) break exit}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{Execute next line:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) next or n}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{Execute next line and enter in a method/function if any:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) step or s}}}\\

%\hspace{1cm} $\color{darkblue}\circ$ {\small{Print a variable:}}\\
%\hspace{1.3cm} {\small{\texttt{(gdb) print var}}}

%\end{block}
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{frame}
%\frametitle{GDB commands}
%\begin{block}{}

%\begin{itemize}
%\item Specific GDB commands for TRUST (macros in a GDB wrapper) to dump an array or print array values:
%    \begin{itemize}
%    \item [$\circ$] To dump a DoubleVect:\\
%    \texttt{(gdb) dump array}
%    \item [$\circ$] To dump a DoubleTab:\\
%    \texttt{(gdb) dumptab array}
%    \item [$\circ$] To dump a IntVect:\\
%    \texttt{(gdb) dumpint array}
%    \item [$\circ$] To dump a IntTab:\\
%    \texttt{(gdb) dumpinttab array}
%    \item [$\circ$] To print tab(i) of a DoubleVect array:\\
%    \texttt{(gdb) print tab.operator()(i) or tab[i]}
%    \item [$\circ$] To print tab(i,j) of a DoubleTab array:\\
%    \texttt{(gdb) print tab.operator()(i,j) or tab[i,j]}
%    \end{itemize}
%\item To debug a parallel calculation with N processes:\\
%\texttt{\$ trust -partition datafile N}\\
%\texttt{\$ exec=\$exec\_debug trust -gdb PAR\_datafile N}
%\end{itemize}

%\end{block}
%\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{{\bf{Debug with GDB}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Debug with GDB}

\begin{exampleblock}{With Eclipse:}
Run a test case with GDB:\\
    $\rightarrow$ "Debug As" and "Debug configurations..." from "my\_project"\\
    $\rightarrow$ in "Arguments", "Program arguments:" upwind\\
    $\rightarrow$ "Working directory:"  Formation\_TRUST/yourname/upwind/\\
    $\rightarrow$ "Apply" and "Debug"\\
For more information about GDB commands, refer to the help menu.\\
\end{exampleblock}

\begin{block}{Or in a terminal:} 
\begin{itemize}
\item Run a test case with GDB:\\   
    \texttt{\$ cd Formation\_TRUST/yourname/upwind/}\\
    \texttt{\$ exec=\$exec\_debug trust -gdb upwind}
\item You are now in GDB.
\item Add a breakpoint and stop into the SSOR preconditionner:\\
\texttt{(gdb) break SSOR::ssor}
\end{itemize}
\end{block}

\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Debug with GDB}
\begin{block}{}

\begin{itemize}
\item Run the test case:\\
\texttt{(gdb) run upwind}
\item Have a look at the stack\\
\texttt{(gdb) where}

\item Go to the next instruction:\\
\texttt{(gdb) n}

\item Print an array:\\
\texttt{(gdb) print tab1}

\item Or print matrice.tab1\_ if "optimized out" message printed:\\
\texttt{(gdb) print tab1[10]}

\item Print only a value of an array:\\
\texttt{(gdb) dumpint tab1 \textcolor{blue}{\# Dump the array}} \\
\texttt{(gdb) print tab1.size\_array() \textcolor{blue}{\# Array size}}\\
\texttt{(gdb) up}\\
\texttt{(gdb) list 100}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Debug with GDB}
\begin{block}{}

\begin{itemize}
\item Print lines after the 100th line:\\
\texttt{(gdb) print matrice}\\
\texttt{(gdb) print matrice.que\_suis\_je() \textcolor{blue}{\# Kind of matrix ?}}\\
\texttt{(gdb) print matrice.que\_suis\_je().nom\_ \textcolor{blue}{\# Kind of matrix ?}}
\texttt{(gdb) up 5 \textcolor{blue}{\# Move up 5 levels}}\\
\texttt{(gdb) list 900}

\item Print others variables:\\
\texttt{(gdb) \textcolor{blue}{\# Pressure field}}\\
\texttt{(gdb) print la\_pression.que\_suis\_je().nom\_}\\
\texttt{(gdb) \textcolor{blue}{\# Pressure values (DoubleTab)}}\\
\texttt{(gdb) print la\_pression.valeurs()}\\
\texttt{(gdb) \textcolor{blue}{\# DoubleTab dimension}}\\
\texttt{(gdb) print la\_pression.valeurs().nb\_dim()}\\
\texttt{(gdb) \textcolor{blue}{\# Dump the field values}}\\
\texttt{(gdb) dumptab la\_pression.valeurs()}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsection{{\bf{Find memory bugs with valgrind}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Find memory bugs with valgrind}
\begin{block}{}

\begin{itemize}
\item Run a test case with Valgrind:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ source env\_my\_project.sh}\\
\texttt{\$ cd build/Cx/}\\
\texttt{\$ VALGRIND=1 trust Cx}\\
\item The Valgrind messages appear on the screen with the beginning of each line the same number. For example:\\
\texttt{\$ ==26645== ...}\\
\item The last line indicates if errors have occurred. An example with 0 error:\\
\texttt{\$ ==26645== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)}
\end{itemize}
\begin{itemize}
\item Now we will modify the sources in your baltik project to generate a Valgrind error on the Cx test case.\\
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{Find memory bugs with valgrind}
\begin{block}{}

\begin{itemize}
\item Edit the "my\_first\_class.cpp" file and remove the initialization of the sum to calcule the total of control volumes.\\
In place of "double sum=0;", put only "double sum;".\\
\item Rebuild your project and run the test case:\\
\texttt{\$ cd \$project\_directory}\\
\texttt{\$ make debug optim}\\
\texttt{\$ cd build/Cx/}\\
    \begin{itemize}
    \item [$\circ$] in mode optim:\\
    \texttt{\$ exec=\$exec\_opt trust Cx}\\
In this case, no error appears.
    \item [$\circ$] in mode debug:\\
    \texttt{\$ exec=\$exec\_debug trust Cx}\\
In this case also, no error appears.
    \item [$\circ$] in mode valgrind:\\
    \texttt{\$ VALGRIND=1 exec=\$exec\_opt trust Cx}\\
On the other hand, in this case, there are errors.\\
    \texttt{\$ ==7517== ERROR SUMMARY: 187 errors from 109 contexts}
    \end{itemize}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%






\section{{\bf{For more}}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\begin{columns}[c] 
\column{.45\textwidth}
\tableofcontents[sections={1-4},currentsection, currentsubsection]
\column{.5\textwidth} 
\tableofcontents[sections={5-8},currentsection, currentsubsection]
\end{columns}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{frame}
\frametitle{For more}
\begin{block}{}

\begin{itemize}
\item You can find the commented solution of the exercise:\\
\texttt{\$ cd \$TRUST\_ROOT/doc/TRUST/exercices/my\_first\_class}

\item You can practice on a tutorial:\\
\texttt{\$ cd \$TRUST\_ROOT/doc/TRUST/exercices/}\\
\texttt{\$ evince equation\_convection\_diffusion/rapport.pdf \&}
\end{itemize}

\end{block}
\end{frame}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%











%Terminology/chronology of methods in TRUST
%interpreter()/readOn()
% The parameters of the keyword are read
%associer()
% Called by a Associate keyword, generally to fill the references (pointer) to other objects (eg : link to an Equation)
%discretiser()
% Called by Discretize keyword, complete tasks related to the selected discretization (eg : discretize a field)
%completer()
% All the data file is read, and some initializations are completed now
%Loop in the Probleme\_base class on each equation -> Probleme\_base.cpp
%Loop in Equation\_base class on each operator, discretized boundary condition, sources and time sheme -> Equation\_base.cpp
%preparer\_calcul()
% Before the first time step (eg : initialize arrays, set time to 0)
%Loop in the Probleme\_base class on each equation -> Probleme\_base.cpp
%calculer()
% During the time step, perform the main task of the class
%mettre\_a\_jour()
% At the end of the time step (eg : update time field)
%Loop in the Probleme\_base class on each equation -> Probleme\_base.cpp
%postraiter()
% At the end of the time step, post process the fields into the result files
%Example : LES Turbulence model in Mod\_turb\_hyd\_ss\_maille.cpp


%\begin{figure}[H]
%\begin{centering}
%\includegraphics[scale=0.22]{IMG/img52}
%\par\end{centering}
%\end{figure}





\end{document} 
