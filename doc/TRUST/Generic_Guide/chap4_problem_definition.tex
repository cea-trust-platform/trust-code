%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Set of equations}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
In function of your choice of problem type, you will have a different set of equations.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Incompressible problems}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\trust solves Navier-Stokes equations with/without heat equation for incompressible fluid:

$$
\left\{
\begin{array}{c}
\nabla \cdot \vec u =0 \\
\displaystyle{\frac{\partial \vec u }{\partial t} + \textcolor{red}{\nabla \cdot (\vec u \otimes \vec u)} = \textcolor{blue}{\nabla \cdot (\nu \nabla \vec u)} - \nabla P^* } \\
\displaystyle{\frac{\partial T}{\partial t} + \textcolor{red}{\vec u \nabla T} = \textcolor{blue}{\nabla \cdot (\alpha \nabla T)} + \frac{Q}{\rho C_p}}
\end{array}
\right.
$$

where: $\displaystyle{P^*=\frac{P}{\rho} + g z}$, $Q$ is a heat source term, and:

\begin{itemize}
\item $\rho$: density,
\item $\mu$: dynamic viscosity,
\item $\displaystyle{\nu=\frac{\mu}{\rho}}$: cinematic viscosity,
\item $\vec g=g z$: gravity vector in cartesian coordinates,
\item $\displaystyle{\alpha=\frac{\lambda}{\rho C_p}}$: thermal diffusivity.
\item $C_p$: specific heat capacity at constant pressure,
\item $\lambda$: thermal conductivity,
\end{itemize}

\Note that \textcolor{red}{red} terms are convective terms and \textcolor{blue}{blue} terms are diffusive terms.\\

\begin{center}
\fbox{ \begin{minipage}[c]{0.98\textwidth}
\begin{alltt}
{\bf{Pb\_\textcolor{magenta}{Thermo}hydraulique\textcolor{darkblue}{\_Concentration}\hspace{-0.15cm}\textcolor{Greeen}{\_Turbulent} } } \textit{my\_problem}

...

{\bf{Read}} \textit{my\_problem}

\{

\hspace{1cm}    \textcolor{blue}{\# Navier Stokes equations with/without turbulent model \#}

\hspace{1cm}    {\bf{Navier\_Stokes$\overbrace{\mbox{\_Standard}}^{\mbox{\textcolor{Greeen}{\_Turbulent}}}$} }

\hspace{1cm}    \{

\hspace{2cm}        {\bf{Solveur\_Pression}} \textit{my\_solver} \{ ... \}

\hspace{2cm}        {\bf{Diffusion}} \{ ... \}

\hspace{2cm}        {\bf{Convection}} \{ ... \}

\hspace{2cm}        {\bf{Initial\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{Boundary\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{\textcolor{Greeen}{Modele\_turbulence \textit{modele} \{ ... \} } }}

\hspace{2cm}        [{\bf{Sources}} \{ ... \}]

\hspace{2cm}       ...

\hspace{1cm}    \}

\hspace{1cm}    \textcolor{blue}{\# Energy equation with/without turbulent model \#}

\hspace{1cm}    {\bf{\textcolor{magenta}{Convection\_Diffusion\_Temperature}\textcolor{Greeen}{\_Turbulent}}}

\hspace{1cm}    \textcolor{magenta}{\{}

\hspace{2cm}        \textcolor{magenta}{{\bf{Diffusion}} \{ ... \}}

\hspace{2cm}        \textcolor{magenta}{{\bf{Convection}} \{ ... \}}

\hspace{2cm}        \textcolor{magenta}{{\bf{Initial\_conditions}} \{ ... \}}

\hspace{2cm}        \textcolor{magenta}{{\bf{Boundary\_conditions}} \{ ... \}}

\hspace{2cm}        \textcolor{magenta}{{\bf{\textcolor{Greeen}{Modele\_turbulence Prandtl \{ ... \} } }}}

\hspace{2cm}        \textcolor{magenta}{[{\bf{Sources}} \{ ... \}]}

\hspace{2cm}        \textcolor{magenta}{...}

\hspace{1cm}    \textcolor{magenta}{\}}

\hspace{1cm}    \textcolor{blue}{\# Constituent transportation equations with/without turbulent model \#}

\hspace{1cm}    {\bf{\textcolor{darkblue}{Convection\_Diffusion\_Concentration}\textcolor{Greeen}{\_Turbulent}}}

\hspace{1cm}    \textcolor{darkblue}{\{}

\hspace{2cm}        \textcolor{darkblue}{{\bf{Diffusion}} \{ ... \}}

\hspace{2cm}        \textcolor{darkblue}{{\bf{Convection}} \{ ... \}}

\hspace{2cm}        \textcolor{darkblue}{{\bf{Initial\_conditions}} \{ ... \}}

\hspace{2cm}        \textcolor{darkblue}{{\bf{Boundary\_conditions}} \{ ... \}}

\hspace{2cm}        \textcolor{darkblue}{{\bf{\textcolor{Greeen}{Modele\_turbulence Schmidt \{ ... \} } }}}

\hspace{2cm}        \textcolor{darkblue}{[{\bf{Sources}} \{ ... \}]}

\hspace{2cm}        \textcolor{darkblue}{...}

\hspace{1cm}    \textcolor{darkblue}{\}}

\}
\end{alltt}
\end{minipage}}
\end{center}

For documentation, see:\\

\begin{longtable}{|c|c|c|c|c|}
\hline
Thermo & hydraulique & Concentration & Turbulent & Reference Manual\tabularnewline
\hline 
\hline 
            & \textbf{Pb\_hydraulique}  &   
            &                           & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbhydraulique}{doc} \tabularnewline 
\hline
            & \textbf{Pb\_hydraulique}  & \textbf{\textcolor{darkblue}{\_Concentration}}
            &                           & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbhydrauliqueconcentration}{doc} \tabularnewline
\hline
            & \textbf{Pb\_hydraulique}  &   
            & \textbf{\textcolor{Greeen}{\_Turbulent}}      & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbhydrauliqueturbulent}{doc} \tabularnewline
\hline
            & \textbf{Pb\_hydraulique}  & \textbf{\textcolor{darkblue}{\_Concentration}}
            & \textbf{\textcolor{Greeen}{\_Turbulent}}      & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbhydrauliqueconcentrationturbulent}{doc} \tabularnewline
\hline
\textbf{Pb\_\textcolor{magenta}{Thermo}}     & \textbf{hydraulique}  &   
                        &                       & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydraulique}{doc} \tabularnewline
\hline
\textbf{Pb\_\textcolor{magenta}{Thermo}}     & \textbf{hydraulique}  & \textbf{\textcolor{darkblue}{\_Concentration}}
                        &                       & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueconcentration}{doc} \tabularnewline
\hline
\textbf{Pb\_\textcolor{magenta}{Thermo}}     & \textbf{hydraulique}  &   
                        & \textbf{\textcolor{Greeen}{\_Turbulent}}  & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueturbulent}{doc} \tabularnewline
\hline
\textbf{Pb\_\textcolor{magenta}{Thermo}}     & \textbf{hydraulique}  & \textbf{\textcolor{darkblue}{\_Concentration}}
                        & \textbf{\textcolor{Greeen}{\_Turbulent}}  & \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueconcentrationturbulent}{doc} \tabularnewline
\hline
\end{longtable}

\vspace{0.5cm}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Quasi-compressible problem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\trust solves Navier-Stokes equations with/without heat equation for quasi-compressible fluid:

$$
\left\{
\begin{array}{c}
\displaystyle{\frac{\partial \rho }{\partial t} + \nabla \cdot (\rho \vec u) =0 }\\
\displaystyle{ \frac{\partial \rho u}{\partial t} + \textcolor{red}{\nabla \cdot (\rho u u)} =  \textcolor{blue}{\nabla \cdot \left(\mu \nabla \vec u \right)} - \nabla P -\rho \vec g }\\
\displaystyle{ \rho C_p \left( \frac{\partial T}{\partial t} + \textcolor{red}{\vec u \nabla T} \right) = \textcolor{blue}{\nabla \cdot \left(\lambda \nabla T\right)} + \frac{dP_0}{dt} + Q }
\end{array}
\right.
$$

where: $P_0=\rho R T$, $Q$ is a heat source term, and:

\begin{itemize}
\item $\rho$: density,
\item $\mu$: dynamic viscosity,
\item $\displaystyle{\nu=\frac{\mu}{\rho}}$: cinematic viscosity,
\item $\vec g=g z$: gravity vector in cartesian coordinates,
\item $C_p$: specific heat capacity at constant pressure,
\item $\lambda$: thermal conductivity,
\item $\displaystyle{\alpha=\frac{\lambda}{\rho C_p}}$: thermal diffusivity.
\end{itemize}

\Note that \textcolor{red}{red} terms are convective terms and \textcolor{blue}{blue} terms are diffusive terms.\\


\begin{center}
\fbox{ \begin{minipage}[c]{0.95\textwidth}
\begin{alltt}
{\bf{Pb\_Thermohydraulique\textcolor{Greeen}{\_Turbulent}\_QC} } \textit{my\_problem}

...

{\bf{Read}} \textit{my\_problem}

\{

\hspace{1cm}    \textcolor{blue}{\# Navier Stokes equations for quasi-compressible fluid under \#}

\hspace{1cm}    \textcolor{blue}{\# low Mach numbers with/without turbulent model \#}

\hspace{1cm}    {\bf{Navier\_Stokes\textcolor{Greeen}{\_Turbulent}\_QC}}

\hspace{1cm}    \{

\hspace{2cm}        {\bf{Solveur\_Pression}} \textit{my\_solver} \{ ... \}

\hspace{2cm}        {\bf{Diffusion}} \{ ... \}

\hspace{2cm}        {\bf{Convection}} \{ ... \}

\hspace{2cm}        {\bf{Initial\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{Boundary\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{\textcolor{Greeen}{Modele\_turbulence \textit{modele} \{ ... \} } }}

\hspace{2cm}        [{\bf{Sources}} \{ ... \}]

\hspace{2cm}       ...

\hspace{1cm}    \}

\hspace{1cm}    \textcolor{blue}{\# Energy equation for quasi-compressible fluid under low Mach \#}

\hspace{1cm}    \textcolor{blue}{\# numbers with/without turbulent model \#}

\hspace{1cm}    {\bf{Convection\_Diffusion\_Chaleur}\textcolor{Greeen}{\_Turbulent}}

\hspace{1cm}    \{

\hspace{2cm}        {\bf{Diffusion}} \{ ... \}

\hspace{2cm}        {\bf{Convection}} \{ ... \}

\hspace{2cm}        {\bf{Initial\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{Boundary\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{\textcolor{Greeen}{Modele\_turbulence Prandtl \{ ... \} } }}

\hspace{2cm}        [{\bf{Sources}} \{ ... \}]

\hspace{2cm}        ...

\hspace{1cm}    \}

\}
\end{alltt}
\end{minipage}}
\end{center}

For more information on thermohydraulique QC problem, go \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueqc}{here} and for thermohydraulique turbulent QC problem, go \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueturbulentqc}{there}.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Conduction problem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
For this kind of problem, \trust solves the heat equation:
$$
\rho C_p \frac{\partial T}{\partial t} = \textcolor{blue}{\nabla \cdot \left(\lambda \nabla T\right)} + Q
$$
where:
\begin{itemize}
\item $\rho$: density,
\item $C_p$: specific heat capacity at constant pressure,
\item $\lambda$: thermal conductivity,
\item $Q$ is a heat source term.
\end{itemize}

\Note that \textcolor{red}{red} terms are convective terms and \textcolor{blue}{blue} terms are diffusive terms.\\

In your data file, you will have:

\begin{center}
\fbox{ \begin{minipage}[c]{0.95\textwidth}
\begin{alltt}
{\bf{Pb\_Conduction} } \textit{my\_problem}

...

{\bf{Read}} \textit{my\_problem}

\{

\hspace{1cm}    \textcolor{blue}{\# Resolution of the heat equation \#}

\hspace{1cm}    {\bf{Conduction}}

\hspace{1cm}    \{

\hspace{2cm}        {\bf{Diffusion}} \{ ... \}

\hspace{2cm}        {\bf{Convection}} \{ ... \}

\hspace{2cm}        {\bf{Initial\_conditions}} \{ ... \}

\hspace{2cm}        {\bf{Boundary\_conditions}} \{ ... \}

\hspace{2cm}        [{\bf{Sources}} \{ ... \}]

\hspace{2cm}        ...

\hspace{1cm}    \}

\}
\end{alltt}
\end{minipage}}
\end{center}

For more information, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbconduction}{\trust Reference Manual}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Coupled problems}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
With \trust, we can couple problems. We will explain here the method for two problems
but you can couple as many problems as you want.\\

To couple two problems, we define two problems \textit{my\_problem\_1} and \textit{my\_problem\_2} each one associated to a separate domain \textit{my\_domain\_1} and \textit{my\_domain\_2}, and to a separate medium \textit{my\_medium\_1} and \textit{my\_medium\_2} (associated or not to the gravity).
\begin{center}
\fbox{ \begin{minipage}[c]{0.95\textwidth}
\begin{alltt}
{\bf{Dimension}} 2


{\bf{Pb_ThermoHydraulique_Turbulent}} \textit{my\_problem\_1}

{\bf{Pb_ThermoHydraulique_Turbulent}} \textit{my\_problem\_2}


{\bf{Domaine}} \textit{my\_domain\_1}

{\bf{Read\_file}} \textit{my\_mesh\_1.geo} ;


{\bf{Domaine}} \textit{my\_domain\_2}

{\bf{Read\_file}} \textit{my\_mesh\_2.geo} ;


{\bf{Fluide_Incompressible}} \textit{my\_medium\_1}

{\bf{Read}} \textit{my\_medium\_1} \{ ... \}


{\bf{Fluide_Incompressible}} \textit{my\_medium\_2}

{\bf{Read}} \textit{my\_medium\_2} \{ ... \}


{\bf{Associate}} \textit{my\_problem\_1} \textit{my\_domain\_1}

{\bf{Associate}} \textit{my\_problem\_1} \textit{my\_medium\_1}


{\bf{Associate}} \textit{my\_problem\_2} \textit{my\_domain\_2}

{\bf{Associate}} \textit{my\_problem\_2} \textit{my\_medium\_2}
\end{alltt}
\end{minipage}}
\end{center}


Then we define a coupled problem associated to a single time scheme like for example:
\begin{center}
\fbox{ \begin{minipage}[c]{0.95\textwidth}
\begin{alltt}
{\bf{Probleme\_Couple}} \textit{my\_coupled\_problem}


{\bf{VEFPreP1B}} \textit{my\_discretization}


{\bf{Scheme\_euler\_explicit}} \textit{my\_scheme}

{\bf{Read}} \textit{my\_scheme} \{ ... \}


{\bf{Associate}} \textit{my\_coupled\_problem} \textit{my\_problem\_1}

{\bf{Associate}} \textit{my\_coupled\_problem} \textit{my\_problem\_2}

{\bf{Associate}} \textit{my\_coupled\_problem} \textit{my\_scheme}
\end{alltt}
\end{minipage}}
\end{center}

Then we discretize and solve everything:
\begin{center}
\fbox{ \begin{minipage}[c]{0.95\textwidth}
\begin{alltt}
{\bf{Discretize}} \textit{my\_coupled\_problem} \textit{my\_discretization}

{\bf{Read}} \textit{my\_problem\_1} \{ ... \}

{\bf{Read}} \textit{my\_problem\_2} \{ ... \}

{\bf{Solve}} \textit{my\_coupled\_problem}

{\bf{End}}
\end{alltt}
\end{minipage}}
\end{center}

You can see the documentation of this kind of problem in the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#coupledproblem}{\trust Reference Manual}.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Other problems}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\trust can also solve the following types of problems:
\begin{itemize}
%\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#problemeftdiscgen}{Front-Tracking problems},
%\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbphasefield}{Problems to solve local instantaneous incompressible-two-phase-flows},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pbthermohydrauliqueconcentrationscalairespassifs}{Resolution of NAVIER STOKES/energy/multiple constituent transportation equations, with the additional passive scalar equations}, and
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#chimie}{describe the chemical reactions}.
\end{itemize}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Pressure solvers}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Then you may indicate the choice of pressure solver (cf \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#solveursysbase}{\trust Reference Manual}) using the following syntaxe:
    \begin{center}
    \fbox{ \begin{minipage}[c]{0.7\textwidth}
    \begin{alltt}
    {\bf{Solveur\_pression}}  \textit{my\_solver } \{ ... \}
    \end{alltt}
    \end{minipage}}
    \end{center}

The \textit{my\_solver} may be:

\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#solvgcp}{\textbf{GCP}},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#petsc}{\textbf{Petsc} \textit{Petsc\_solver\_name}},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#cholesky}{\textbf{Cholesky}},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#gmres}{\textbf{Gmres}},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#gen}{\textbf{Gen}},
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#optimal}{\textbf{Optimal}}.
%\item \textbf{Gmres} or \textbf{Gen} or \textbf{Optimal} (cf to the \href[page=DOCLINK_OTHER SOLVERS]{../../Outils/TRIOXDATA/XTriou/doc.pdf}{\trust Reference Manual}).
\end{itemize}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Convection}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
There is no default convectif scheme so you must choose one \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#blocconvection}{convection scheme}:
    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{convection}} \{ \textit{convective\_scheme} \}
    \end{alltt}
    \end{minipage}}
    \end{center}

You can use the following convective scheme, following the recommendations of the user training session (cf section "Time and space schemes" of the \href{TRUST_and_TrioCFD_presentation.pdf}{the \trust \& \textbf{TrioCFD} user slides} and the section "Recommendations for schemes") following your discretization type:
\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#convectionamont}{\textbf{Amont}}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#convectionmuscl}{\textbf{Muscl}}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#convectionefstab}{\textbf{EF\_stab}}
\item for more, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#blocconvection}{\trust Reference Manual}.
\end{itemize}

\Note that there is no default convective scheme and if you don't want convection in your problem, you may use:

    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{convection \{ negligeable \} }}
    \end{alltt}
    \end{minipage}}
    \end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Diffusion}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
For the diffusive scheme, it is the same syntaxe:

    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{diffusion}} \{ [\textit{diffusive\_scheme}] \}
    \end{alltt}
    \end{minipage}}
    \end{center}

You can choose your scheme with the help of the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#blocdiffusion}{\trust Reference Manual}.\\

\Note that if you don't specify any diffusive scheme, automaticaly the code uses the standard diffusive scheme of order 2.
If you don't want diffusion in your problem, you may use:

    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{diffusion \{ negligeable \} }}
    \end{alltt}
    \end{minipage}}
    \end{center}






%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Initial conditions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
For each equation, you \textbf{must} set initial conditions:
\begin{center}
\fbox{ \begin{minipage}[c]{0.5\textwidth}
\begin{alltt}
{\bf{initial\_conditions}} \{ ... \}
\end{alltt}
\end{minipage}}
\end{center}

To see the syntaxe of each available initial condition: cf \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#condinits}{\trust Reference Manual}.
Here are the most used initial conditions:
\begin{itemize}
\item \textbf{Velocity}     field\_type   \textit{bloc\_lecture\_champ}
\item \textbf{Temperature}  field\_type   \textit{bloc\_lecture\_champ}
\item \textbf{K\_eps}       field\_type   \textit{bloc\_lecture\_champ}
%\item \textbf{Flux\_Chaleur\_Turbulente}    field\_type   \textit{bloc\_lecture\_champ}
%\item \textbf{Fluctu\_Temperature}          field\_type   \textit{bloc\_lecture\_champ}
%\item for more, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#condinits}{\trust Reference Manual}.
\end{itemize}

We list here some "field\_type":
\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#uniformfield}{\textbf{Uniform\_Field}}: for uniform field,
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champfoncmed}{\textbf{Champ\_Fonc\_Med}}: to read a data field in a MED-format file .med at a specified time,
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#fieldfunctxyz}{\textbf{Champ\_Fonc\_txyz}}: for a field which depends on the time and the space,
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champfoncfonctiontxyz}{\textbf{Champ\_Fonc\_Fonction\_txyz}}: for a field which is a function of another field and time and/or space coordinates,
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champfoncreprise}{\textbf{Champ\_Fonc\_Reprise}}: to read a data field in a save file (.xyz or .sauv) at a specified time.
\item refer to \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#fieldbase}{\trust Reference Manual}.
\end{itemize}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Boundary conditions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Then you may specify your boundary conditions like:

    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{boundary\_conditions}} \{ ... \}
    \end{alltt}
    \end{minipage}}
    \end{center}

It is important to specify here that \textbf{TRUST will not accept any boundary conditions by default.}\\

You can find help for boundary conditions in the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#condlimbase}{\trust Reference Manual}.
Here is a list of the most used boundary conditions:
{\small{
\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#frontiereouvertevitesseimposee}{\textbf{Bord Frontiere\_ouverte\_vitesse\_imposee}}    boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_rho\_u\_impose}      boundary\_field\_type \textit{bloc\_lecture\_champ}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#frontiereouvertepressionimposee}{\textbf{Bord Frontiere\_ouverte\_pression\_imposee}}   boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_gradient\_pression\_impose} boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_pression\_imposee\_Orlansky }
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#paroifixe}{\textbf{Bord Paroi\_fixe}}
%\item \textbf{Bord Paroi\_decalee\_Robin \{ delta value \} }
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#symetrie}{\textbf{Bord Symetrie}}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#periodic}{\textbf{Bord Periodique}}
%\item \textbf{Bord Paroi\_rugueuse} \{ \textbf{erugu} value \}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#frontiereouvertetemperatureimposee}{\textbf{Bord Frontiere\_ouverte\_temperature\_imposee}}                        boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_temperature\_imposee\_rayo\_semi\_transp}    boundary\_field\_type \textit{bloc\_lecture\_champ}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#frontiereouverte}{\textbf{Bord Frontiere\_ouverte T\_ext}}                       boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_rayo\_semi\_transp T\_Ext}   boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_rayo\_transp T\_Ext}         boundary\_field\_type \textit{bloc\_lecture\_champ}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#paroiadiabatique}{\textbf{Bord Paroi\_adiabatique}}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#paroifluximpose}{\textbf{Bord Paroi\_flux\_impose}}                             boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Paroi\_temperature\_imposee}                     boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Paroi\_echange\_externe\_impose H\_imp}          boundary\_field\_type \textit{bloc\_lecture\_champ}  \textbf{T\_ext}   boundary\_field\_type \textit{bloc\_lecture\_champ}
%\item \textbf{Bord Frontiere\_ouverte\_concentration\_imposee}      boundary\_field\_type \textit{bloc\_lecture\_champ\_front}
%\item \textbf{Bord Frontiere\_ouverte C\_ext}                       boundary\_field\_type \textit{bloc\_lecture\_champ\_front}
%\item \textbf{Bord Frontiere\_ouverte\_K\_Eps\_impose}              boundary\_field\_type \textit{bloc\_lecture\_champ\_front}
%\item \textbf{Bord Frontiere\_ouverte K\_Eps\_ext}                  boundary\_field\_type \textit{bloc\_lecture\_champ\_front}
%\item \textbf{Bord Paroi}
\item for more, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#condlimbase}{\trust Reference Manual}.
\end{itemize}
}}

To choose your "boundary\_field\_type" parameters, refer to \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#frontfieldbase}{\trust Reference Manual}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Turbulent model}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
User can add a turbulent model to his simulation using the keyword:
\begin{center}
\fbox{ \begin{minipage}[c]{0.7\textwidth}
\begin{alltt}
{\bf{Modele\_turbulence}} \textit{my\_model} \{ ... \}
\end{alltt}
\end{minipage}}
\end{center}

where \textit{my\_model} can be:
\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#longueurmelange}{\textbf{Longueur\_Melange}}: RANS model based on mixing length modelling,
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#sousmaille}{\textbf{Sous\_maille}}: LES model which uses a structure sub-grid function model,
%\item \textbf{Sous\_maille\_Smago}
%\item \textbf{Sous\_maille\_wale}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#kepsilon}{\textbf{K\_epsilon}}: for RANS turbulence model (k-$\varepsilon$),
%\item \textbf{K\_epsilon\_2\_Couches}
\item for more, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#modeleturbulencehydderiv}{\trust Reference Manual}.
\end{itemize}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Source terms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
To introduce a source term into an equation, add the following line into the block defining the equation. The list of source keyword is described below.
\begin{center}
\fbox{ \begin{minipage}[c]{0.5\textwidth}
\begin{alltt}
{\bf{Sources}}  \textit{ \{ source\_keyword \}}
\end{alltt}
\end{minipage}}
\end{center}

To introduce several source terms into the same equation, the blocks corresponding to the various terms need to be separated by a comma:
\begin{center}
\fbox{ \begin{minipage}[c]{0.7\textwidth}
\begin{alltt}
{\bf{Sources}}  \textit{ \{ source\_keyword1 , source\_keyword2 , ...\}}
\end{alltt}
\end{minipage}}
\end{center}

\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pertechargereguliere}{\textbf{Perte\_Charge\_Reguliere}} type\_perte\_charge bloc\_definition\_pertes\_charges
%\item \textbf{Perte\_Charge\_Isotrope} \{ ... \} 
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#pertechargesinguliere}{\textbf{Perte\_Charge\_Singuliere}} \textbf{KX | KY | KZ} coefficient\_value \{ ... \} 
%\item \textbf{Source\_Qdm}   field\_type   field\_description
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#canalperio}{\textbf{Canal\_perio}} \{ ... \} 
%\item \textbf{Source\_Robin} N boundary\_name\_1  ... boundary\_name\_N 
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#boussinesqtemperature}{\textbf{Boussinesq\_temperature}} \{ ... \}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#boussinesqconcentration}{\textbf{Boussinesq\_concentration}} \{ ... \}
%\item \textbf{Source\_Th\_TdivU }
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#puissancethermique}{\textbf{Puissance\_thermique}} field\_type   bloc\_lecture\_champ 
%\item \textbf{Source\_Robin\_Scalaire  ...}
%\item \textbf{Source\_Generique} field\_type   bloc\_lecture\_champ
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#sourcebase}{documentation for hydraulic source terms and for scalar source terms}.
\end{itemize}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Post-process}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Before post-process fields, during a run, \trust creates several files which contain informations about the calculation, the convergence, flux, bilans... (see part \ref{post} for more informations).\\

Several keywords can be used to create a postprocessing block, into a problem. First, you can create a single postprocessing task (\href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#postraitement}{\textbf{Post\_processing}} keyword). Generally, in this block, results will be printed with a specified format at a specified time period.
\begin{center}
\fbox{ \begin{minipage}[c]{0.5\textwidth}
\begin{alltt}
{\bf{Post\_processing }}

\{

\hspace{1cm}    \textit{Postraitement\_definition}

\}
\end{alltt}
\end{minipage}}
\end{center}

But you can also create a list of postprocessing with \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#postraitements}{\textbf{Post\_processings}} keyword (named with Post\_name1, Post\_name2, etc...), in order to print results to several formats or with different time periods, or into different results files:
\begin{center}
\fbox{ \begin{minipage}[c]{0.6\textwidth}
\begin{alltt}
{\bf{Post\_processings }}

\{

\hspace{1cm}  \textit{Post\_name1  \{ Postraitement\_definition \} }

\hspace{1cm}  \textit{Post\_name2  \{ Postraitement\_definition \} }

\hspace{1cm} ...

\}
\end{alltt}
\end{minipage}}
\end{center}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Field names}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{itemize}
\item \textcolor{darkblue}{\textbf{Existing \& predefined fields}}

You can post-process predefined fields and already existing fields.
Here is a list of post-processable fields, but it is not the only ones.

\small
\begin{longtable}[hcr]{|c|c|c|}
\hline \textbf{Physical values}                        & \textbf{Keyword for field\_name}          & \textbf{Unit} \\ \hline \endhead
\hline\multicolumn{3}{|c|}{\textcolor{olive}{... continued on next page ...}}  \\ \hline \endfoot
\hline \hline \endlastfoot


Speed                                           & \textbf{Vitesse} or \textbf{Velocity}     & $m.s^{-1}$ \\ \hline
Kinetic energy                                  & \textbf{Energie\_cinetique}               & $m^2.s^{-2}$ \\ \hline
Vorticity                                       & \textbf{Vorticite}                        & $s^{-1}$ \\ \hline
Pressure in incompressible flow                 &                                           & \\
($P/\rho+gz$)                                   & \textbf{Pression} \footnote{The post-processed pressure is the pressure divided by the fluid's density ($P/\rho+gz$) on incompressible laminar calculation. For turbulent, pressure is $P/\rho+gz+2/3*k$ cause the turbulent kinetic energy is in the pressure gradient.}
                                                                                            & $Pa.m^3.kg^{-1}$ \\
For Front Tracking probleme                     &                                           & or \\
($P+\rho gz$)                                   &                                           &  $Pa$ \\ \hline
Pressure in incompressible flow                 &                                           &   \\
(P+$\rho gz$)                                   & \textbf{Pression\_pa} or \textbf{Pressure}         & $Pa$ \\ \hline
Pressure in compressible flow                   & \textbf{Pression}                         & $Pa$ \\ \hline
Hydrostatic pressure $(\rho g z)$                 & \textbf{Pression\_hydrostatique}           & $Pa$ \\ \hline
Totale pressure (when                           &                                           & \\
quasi compressible model                        &                                           & \\
is used)=Pth+P                                  & \textbf{Pression\_tot}                    & $Pa$ \\ \hline
Pressure gradient                               &                                           & \\
($\nabla(P/\rho+gz)$)                           & \textbf{Gradient\_pression}               & $m.s^{-2}$ \\ \hline
Temperature                                     & \textbf{Temperature}                      & $^o$C or K \\ \hline
Phase temperature of                            &                                           & \\
a two phases flow                               & \textbf{Temperature\_EquationName}        & $^o$C or K \\ \hline
Mass transfer rate                              &                                           & \\
between two phases                              & \textbf{Temperature\_mpoint}              & $kg.m^{-2}.s^{-1}$ \\ \hline
Temperature variance                            & \textbf{Variance\_Temperature}            & $K^2$ \\ \hline
Temperature dissipation rate                    & \textbf{Taux\_Dissipation\_Temperature}   & $K^2.s^{-1}$ \\ \hline
Temperature gradient                            & \textbf{Gradient\_temperature}            & $K.m^{-1}$ \\ \hline
Heat exchange coefficient                       & \textbf{H\_echange\_Tref} \footnote{Tref indicates the value of a reference temperature and must be specified by the user. For example, H\_echange\_293 is the keyword to use for Tref=293K.}            & $W.m^{-2}.K^{-1}$ \\ \hline
Turbulent heat flux                             & \textbf{Flux\_Chaleur\_Turbulente}        & $m.K.s^{-1}$ \\ \hline
Turbulent viscosity                             & \textbf{Viscosite\_turbulente}            & $m^2.s^{-1}$ \\ \hline
Turbulent dynamic viscosity                     &                                           & \\
(when quasi compressible                        & \textbf{Viscosite\_dynamique\_turbulente} & $kg.m.s^{-1}$ \\
 model is used)                                 &                                           & \\ \hline
Turbulent kinetic energy                        & \textbf{K}                                & $m^2.s^{-2}$ \\ \hline
Turbulent dissipation rate                      & \textbf{Eps}                              & $m^3.s^{-1}$ \\ \hline
Turbulent quantities                            &                                           & \\
K and Epsilon                                   & \textbf{K\_Eps}                           & ($m^2.s^{-2}$ ,$m^3.s^{-1}$ ) \\ \hline
Constituent concentration                       & \textbf{Concentration}                    & \\ \hline
Component velocity along X                      & \textbf{VitesseX}                         & $m.s^{-1}$ \\ \hline
Component velocity along Y                      & \textbf{VitesseY}                         & $m.s^{-1}$ \\ \hline
Component velocity along Z                      & \textbf{VitesseZ}                         & $m.s^{-1}$ \\ \hline
Mass balance on each cell                       & \textbf{Divergence\_U}                    & $m^3.s^{-1}$  \\ \hline
Irradiancy                                      & \textbf{Irradiance}                       & $W.m^{-2}$ \\ \hline
Q-criteria                                      & \textbf{Critere\_Q}                       & $s^{-1}$ \\ \hline
Distance to the wall $Y^+=yU/\nu$               &                                           & \\ 
(only computed on                               & \textbf{Y\_plus}                          & dimensionless \\ 
boundaries of wall type)                        &                                           &  \\ \hline
Friction velocity                               & \textbf{U\_star}                          & $m.s^{-1}$ \\ \hline
Cell volumes                                    & \textbf{Volume\_maille}                   & $m^3$ \\ \hline
Chemical potential                              & \textbf{Potentiel\_Chimique\_Generalise}  & \\ \hline
Source term in non                              &                                           & \\
Galinean referential                            & \textbf{Acceleration\_terme\_source}      & $m.s^{-2}$ \\ \hline
Stability time steps                            & \textbf{Pas\_de\_temps}                   & S \\ \hline
Boundary fluxes                                 & \textbf{Flux\_bords}                      & \\ \hline
Volumetric porosity                             & \textbf{Porosite\_volumique}              & dimensionless \\ \hline
Distance to the wall                            & \textbf{Distance\_Paroi} \footnote{distance\_paroi is a field which can be used only if the mixing length model (see 2.15.1.2) is used in the data file.}              & $m$\\ \hline
Volumic thermal power                           & \textbf{Puissance\_volumique}             & $W.m^{-3}$ \\ \hline
Local shear strain rate defined as              &                                           & \\
$\sqrt{(2SijSij)}$                              & \textbf{Taux\_cisaillement}               & $s^{-1}$ \\ \hline
Cell Courant number (VDF only)                  & \textbf{Courant\_maille}                  & dimensionless \\ \hline
Cell Reynolds number (VDF only)                 & \textbf{Reynolds\_maille}                 & dimensionless \\ \hline
\end{longtable}
\normalsize


\begin{remark}
Physical properties (conductivity, diffusivity,...) can also been interrogated.
\end{remark}


\textbf{The name of the fields and components available for post-processing is displayed in the error file after the following message: "Reading of fields to be postprocessed". Of course, this list depends of the problem being solved.}

For more informations, you can see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champsapost}{\trust Reference Manual}.
%\vspace{1cm}

\item \textcolor{darkblue}{\textbf{Creating new fields}}

The \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#definitionchamps}{\textbf{Definition\_champs}} keyword is used to create new or more complex field for advanced postprocessing.

\begin{center}
\fbox{ \begin{minipage}[c]{0.8\textwidth}
\begin{alltt}
{\bf{Definition\_champs}} \{ \textit{field\_name\_post} {\bf{\textit{field\_type}}} \{ ... \} \}
\end{alltt}
\end{minipage}}
\end{center}


%%%    \begin{center}
%%%    \fbox{ \begin{minipage}[c]{0.7\textwidth}
%%%    \begin{alltt}
%%%    {\bf{Definition\_champs}} \{ 

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{refChamp}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Interpolation}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Gradient}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Divergence}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Moyenne}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Ecart\_Type}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Correlation}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Transformation}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Extraction}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Reduction\_0D}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Morceau\_Equation}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Predefini}} \{ ... \}]

%%%    \hspace{1cm}    [{\textit{field\_name\_post}} {\bf{Tparoi\_VEF}} \{ ... \}]

%%%    \}

%%%    \end{alltt}
%%%    \end{minipage}}
%%%    \end{center}

\textit{field\_name\_post} is the name of the new created field and \textbf{\textit{field\_type}} is one of the following possible type:
\begin{itemize}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#refchamp}{\textbf{refChamp}}
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#reduction0d}{\textbf{Reduction\_0D}} using for example the \textbf{min}, \textbf{max} or \textbf{somme} methods.
\item \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#transformation}{\textbf{Transformation}}
%\item Interpolation
%\item \textbf{Gradient}
%\item Divergence
%\item Moyenne
%\item Ecart\_Type
%\item Correlation
%\item Extraction
%\item Morceau\_Equation
%\item Predefini
%\item Tparoi\_VEF
\item for details and other keywords, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#definitionchamps}{\trust Reference Manual}.
\end{itemize}

\Note that you can combine several \textbf{\textit{field\_type}} keywords to create your field and then use your new fields to create other ones.\\

Here is an example of new field named \textit{max\_temperature}:

\begin{center}
\fbox{ \begin{minipage}[c]{0.9\textwidth}
\begin{alltt}
{\bf{Read}} \textit{my\_problem} \{

\hspace{0.5cm}    ...

\hspace{0.5cm}    {\bf{Postraitement}} \{

\hspace{1cm}        {\bf{Definition\_champs}} \{

\hspace{1.5cm}            \textcolor{blue}{\# Creation of a 0D field: maximal temperature of the domain \#}

\hspace{1.5cm}            \textit{max\_temperature} {\bf{Reduction\_0D}} \{

\hspace{2cm}            {\bf{methode max}}

\hspace{2cm}            {\bf{source refChamp}} \{ {\bf{Pb\_champ}} \textit{my\_problem} {\bf{temperature}} \}

\hspace{1.5cm}            \}

\hspace{1cm}        \}

\hspace{1cm}        {\bf{Probes}} \{

\hspace{1.5cm}            \textcolor{blue}{\# Print max(temperature) into the datafile\_TMAX.son file \#}

\hspace{1.5cm}            \textit{tmax} \textit{max\_temperature} {\bf{periode}} 0.01 {\bf{point}} 1 0. 0.

\hspace{1cm}        \}

\hspace{1cm}        {\bf{Champs dt\_post}} 1.0 \{ ... \}

\hspace{0.5cm}        \}

\}
\end{alltt}
\end{minipage}}
\end{center}

You can find other examples in the \href{TRUST_and_TrioCFD_presentation.pdf}{the \trust \& \textbf{TrioCFD} user slides} in the section "Post processing description".
\end{itemize}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Post-processing blocks}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
There is three method to post-process in \trust: by probes, fields or making statitics.


\begin{itemize}
\item \textcolor{darkblue}{\textbf{Probes}}\\
Probes refer to sensors that allow a value or several points of the domain to be monitored over time.
The probes may be a set of points defined:
\begin{itemize}
\item one by one: \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#points}{\textbf{Points}} keyword or 
\item by a set of points evenly distributed over a straight segment: \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#segment}{\textbf{Segment}} keyword or
\item arranged according to a layout: \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#plan}{\textbf{Plan}} keyword or
\item arranged according to a parallelepiped: \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#volume}{\textbf{Volume}} keyword.
\end{itemize}

Here is an example of 2D \textbf{Probes} block:
    \begin{center}
    \fbox{ \begin{minipage}[c]{0.92\textwidth}
    \begin{alltt}
    {\bf{Probes}} \{

        \hspace{0.2cm}     \textit{pressure\_probe} \textit{[loc]} {\bf{pressure Periode}} 0.5 {\bf{Points}}      3  1.  0.   1.   1.   1.   2.

        \hspace{0.2cm}     \textit{velocity\_probe} \textit{[loc]} {\bf{velocity Periode}} 0.5 {\bf{Segment}}     10  1.  0.      1.   4.

    \}
    \end{alltt}
    \end{minipage}}
    \end{center}
where the use of \textit{"loc"} option allow to specify the wanted localisation of the probes. The available values are \textbf{"grav"} for gravity center of the element, \textbf{"nodes"} for faces and \textbf{"som"} for verteces. There is not default location. If the point does not coincide with a calculation node, the value is extrapolated linearly according to neighbouring node values.

For complete syntax, see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#corpspostraitement}{\trust Reference Manual}, also for \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#sondes}{all options}.

%%    \begin{center}
%%    \fbox{ \begin{minipage}[c]{1\textwidth}
%%    \begin{alltt}
%%    {\bf{Probes}} \{

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts

%%        \hspace{1.5cm} | {\bf{Points}}      {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Points}}      n x1 y1 [z1] x2 y2 [z2] .... xn yn [zn]]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts

%%        \hspace{1.5cm} | {\bf{Segment}}     {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Segment}}     ns x1 y1 [z1] x2 y2 [z2]]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts 

%%        \hspace{1.5cm} | {\bf{Segmentpoints}}       {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Segmentpoints}}       ns x1 y1 [z1] x2 y2 [z2] .... xn yn [zn]]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts

%%        \hspace{1.5cm} | {\bf{Plan}}    {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Plan}}    ns1 ns2  x1 y1 [z1] x2 y2 [z2] x3 y3 [z3]]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts

%%        \hspace{1.5cm} | {\bf{Volume}}      {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Volume}}      ns1 ns2 ns3  x1 y1 z1 x2 y2 z2 x3 y3 z3 x4 y4 z4]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts

%%        \hspace{1.5cm} | {\bf{Circle}}      {\bf{position\_like}} nom\_sonde

%%        \hspace{1.5cm} | {\bf{Circle}}      n x0 y0 [z0 dir] r teta1 teta2]

%%    \hspace{1cm}    [nom\_sonde [type] field\_name {\bf{Periode}} dts {\bf{Numero\_elem\_sur\_maitre}} integer

%%    \}
%%    \end{alltt}
%%    \end{minipage}}
%%    \end{center}



\item \textcolor{darkblue}{\textbf{Fields}}\\
This keyword allows to post-process fields on the whole domain, specifying the name of the backup file, its format, the post-process time step and the name (and localisation) of the post-processed fields.

Here is an example of \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champsposts}{\textbf{Fields}} block:
    \begin{center}
    \fbox{ \begin{minipage}[c]{0.5\textwidth}
    \begin{alltt}
    {\bf{Fichier}} \textit{results}

    {\bf{Format lata}}

    {\bf{Fields}} {\bf{dt\_post}} 1.  \{

        \hspace{1cm}     {\bf{velocity   [faces] [som] [elem]}}

        \hspace{1cm}    {\bf{pressure   [elem] [som]}}

        \hspace{1cm}    {\bf{temperature [elem] [som] }}

    \}
    \end{alltt}
    \end{minipage}}
    \end{center}

where \textbf{"faces"} , \textbf{"elem"} and \textbf{"som"} are keywords allowed to specify the localisation of the field.\\

\Note that \underline{when you don't specify the localisation of the field}, the default value is \textbf{"som"} for values at the verteces. So fields are post-processed at the verteces of the mesh.\\

To visualize, your post-processed fields, you can use open source softwares like: \href{https://wci.llnl.gov/simulation/computer-codes/visit}{VisIt} (included in \trust package) for lata files, or for med files: \href{http://www.salome-platform.org}{Salom\'e} or \href{http://www.paraview.org}{Paraview}.\\

You can see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#corpspostraitement}{complete syntax} and \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#champsposts}{all options} in the \trust Reference Manual.



\item \textcolor{darkblue}{\textbf{Statistics}}\\
Using this keyword, you will compute statistics on your unknows. You must specify the beginning and ending time for the statistics, the post-process time step, the statistic method, the name (and localisation) of your post-processed field.

Here is an example of \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#statsposts}{\textbf{Statistiques}} block:
    \begin{center}
    \fbox{ \begin{minipage}[c]{0.7\textwidth}
    \begin{alltt}
    {\bf{Statistiques dt\_post}} 0.1 \{

        \hspace{1cm}  {\bf{t\_deb}} 1. {\bf{t\_fin}} 5.

        \hspace{1cm}  {\bf{moyenne  velocity [faces] [elem] [som]}}

        \hspace{1cm}  {\bf{ecart\_type pressure [elem] [som]}}

        \hspace{1cm}  {\bf{correlation pressure velocity [elem] [som] }}

    \}
    \end{alltt}
    \end{minipage}}
    \end{center}

%%    {\bf{Statistiques\_en\_serie Dt\_integr}} dtst \{
%%        \hspace{1cm}  {\bf{t\_deb}} value {\bf{t\_fin}} value 
%%        \hspace{1cm}  [{\textit{stat}}  field\_name] [localisation]
%%        \hspace{1cm}  ...
%%    \}

This block will write at every \textbf{dt\_post} the average of the velocity $\overline{V(t)}$:
\[
\overline{V(t)}=\left\{ \begin{array}{ll}
0 & ,\mbox{ for }t\leq t\mbox{\_}deb\\
\frac{1}{t-t\mbox{\_}deb}{\displaystyle \int_{t\mbox{\_}deb}^{t}V(t)dt} & ,\mbox{ for }t\mbox{\_}deb<t\leq t\mbox{\_}fin\\
\frac{1}{t\mbox{\_}fin-t\mbox{\_}deb}{\displaystyle \int_{t\mbox{\_}deb}^{t\mbox{\_}fin}V(t)dt} & ,\mbox{ for }t>t\mbox{\_}fin
\end{array}\right.
\]

the standard deviation of the pressure $\left\langle P(t)\right\rangle$:
\[
\left\langle P(t)\right\rangle=\left\{ \begin{array}{ll}
0 & ,\mbox{ for }t\leq t\mbox{\_}deb\\
\frac{1}{t-t\mbox{\_}deb}{\displaystyle \sqrt{\int_{t\mbox{\_}deb}^{t}\left[P(t)-\overline{P(t)}\right]^{2}dt}} & ,\mbox{ for }t\mbox{\_}deb<t\leq t\mbox{\_}fin\\
\frac{1}{t\mbox{\_}fin-t\mbox{\_}deb}{\displaystyle \sqrt{\int_{t\mbox{\_}deb}^{t\mbox{\_}fin}\left[P(t)-\overline{P(t)}\right]^{2}dt}} & ,\mbox{ for }t>t\mbox{\_}fin
\end{array}\right.
\]

and correlation between the pressure and the velocity $\left\langle P(t).V(t)\right\rangle$ like:
\[
\left\langle P(t).V(t)\right\rangle=\left\{ \begin{array}{ll}
0 & ,\mbox{ for }t\leq t\mbox{\_}deb\\
\frac{1}{t-t\mbox{\_}deb}{\displaystyle \int_{t\mbox{\_}deb}^{t}\left[P(t)-\overline{P(t)}\right]\cdot\left[V(t)-\overline{V(t)}\right]dt} & ,\mbox{ for }t\mbox{\_}deb<t\leq t\mbox{\_}fin\\
\frac{1}{t\mbox{\_}fin-t\mbox{\_}deb}{\displaystyle \int_{t\mbox{\_}deb}^{t\mbox{\_}fin}\left[P(t)-\overline{P(t)}\right]\cdot\left[V(t)-\overline{V(t)}\right]dt} & ,\mbox{ for }t>t\mbox{\_}fin
\end{array}\right.
\]


\begin{remark}
Statistical fields can be plotted with probes with the keyword "operator\_field\_name" like for example: Moyenne\_Vitesse or Ecart\_Type\_Pression or Correlation\_Vitesse\_Vitesse. For that, it is mandatory to have the statistical calculation of this fields defined with the keyword \textbf{Statistiques}.\\
\end{remark}

For complete syntax, see the \trust Reference Manual \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#corpspostraitement}{here}, and for all options see the \href{../../Outils/TRIOXDATA/XTriou/doc.pdf\#statsposts}{\trust Reference Manual}.
\end{itemize}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Post-process localisation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
You can use localisation keywords to specify where you want to post-process your fields in order to avoid interpolations on your post-processed fields.\\

%For example, in VDF, pressure field is computed at the verteces so if we put \textbf{"elem"} keyword, the post-processed field will be taken at the center of the element so it won't be interpolated. If we use \textbf{"faces"} keyword for VDF pressure, we will get interpolated field.

For \textbf{VDF} discretization, you can see the Figure \ref{fig_VDF} and here is a tabular with a reminder of the calcul location of the fields in \textbf{VDF} discretization:

%\begin{longtable}[h!]{|c|c|c|c|c|}
%\hline 
%\textbf{Names}              & \textbf{Keyword}                  & \textbf{Localisation}     & \textbf{Probes}   & \textbf{Fields}   \\ \hline
%\hline
%Pressure                    & \textbf{pressure}                 & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%Velocity                    & \textbf{velocity}                 & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%Temperature                 & \textbf{temperature}              & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%\hline
%Density $\rho$              & \textbf{masse\_volumique}         & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%Cinematic viscosity $\nu$   & \textbf{viscosite\_cinematique}   & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%Dynamic viscosity $\mu$     & \textbf{viscosite\_dynamique}     & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%\hline
%K                           & \textbf{k}                        & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%eps                         & \textbf{eps}                      & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%$y^+$                       & \textbf{y\_plus}                  & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%$u^*$                       & \textbf{u\_star}                  & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%Turbulent viscosity         & \textbf{viscosite\_turbulente}    & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%\end{longtable}

\begin{longtable}[h!]{|c|c|c|c|c|}
\hline 
\textbf{Names}              & \textbf{Keyword}                  & \textbf{Localisation}     \\ \hline
\hline
Pressure                    & \textbf{pressure}                 & element gravity center    \\ \hline
Velocity                    & \textbf{velocity}                 & faces center              \\ \hline
Temperature                 & \textbf{temperature}              & element gravity center    \\ \hline
\hline
Density $\rho$              & \textbf{masse\_volumique}         & element gravity center    \\ \hline
Cinematic viscosity $\nu$   & \textbf{viscosite\_cinematique}   & element gravity center    \\ \hline
Dynamic viscosity $\mu$     & \textbf{viscosite\_dynamique}     & element gravity center    \\ \hline
\hline
K                           & \textbf{k}                        & element gravity center    \\ \hline
eps                         & \textbf{eps}                      & element gravity center    \\ \hline
$y^+$                       & \textbf{y\_plus}                  & element gravity center    \\ \hline
$u^*$                       & \textbf{u\_star}                  & faces center              \\ \hline
Turbulent viscosity         & \textbf{viscosite\_turbulente}    & element gravity center    \\ \hline
\end{longtable}


For \textbf{VEFPreP1B} discretization, you can see the Figure \ref{fig_VEF} and \ref{fig_VEF_pressure_loc}. Here is a tabular with a reminder of the calcul location of the fields in \textbf{VEFPreP1B} discretization:

\begin{longtable}[h!]{|c|c|c|c|c|}
\hline 
\textbf{Names}              & \textbf{Keyword}                  & \textbf{Localisation}     \\ \hline
\hline
                            &                                   & element gravity center    \\
Pressure                    & \textbf{pressure}                 & verteces                  \\ \hline
%                            &                                   & faces center (for 3D)     \\ \hline
Velocity                    & \textbf{velocity}                 & faces center              \\ \hline
Temperature                 & \textbf{temperature}              & faces center              \\ \hline
\hline
Density $\rho$              & \textbf{masse\_volumique}         & element gravity center    \\ \hline
Cinematic viscosity $\nu$   & \textbf{viscosite\_cinematique}   & element gravity center    \\ \hline
Dynamic viscosity $\mu$     & \textbf{viscosite\_dynamique}     & element gravity center    \\ \hline
\hline
K                           & \textbf{k}                        & faces center              \\ \hline
eps                         & \textbf{eps}                      & faces center              \\ \hline
$y^+$                       & \textbf{y\_plus}                  & element gravity center    \\ \hline
$u^*$                       & \textbf{u\_star}                  & faces center              \\ \hline
Turbulent viscosity         & \textbf{viscosite\_turbulente}    & element gravity center    \\ \hline
\end{longtable}


%\begin{longtable}[h!]{|c|c|c|c|c|}
%\hline 
%\textbf{Names}              & \textbf{Keyword}                  & \textbf{Localisation}     & \textbf{Probes}   & \textbf{Fields}   \\ \hline
%\hline
%                            &                                   & P0: element gravity center    & \textbf{grav} & \textbf{elem}     \\
%Pressure                    & \textbf{pressure}                 & P1: verteces              & \textbf{som}      & \textbf{som}      \\
%                            &                                   & Pa: faces center (for 3D) & \textbf{nodes}    & \textbf{faces}    \\ \hline
%Velocity                    & \textbf{velocity}                 & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%Temperature                 & \textbf{temperature}              & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%\hline
%Density $\rho$              & \textbf{masse\_volumique}         & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%Cinematic viscosity $\nu$   & \textbf{viscosite\_cinematique}   & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%Dynamic viscosity $\mu$     & \textbf{viscosite\_dynamique}     & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%\hline
%K                           & \textbf{k}                        & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%eps                         & \textbf{eps}                      & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%$y^+$                       & \textbf{y\_plus}                  & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%$u^*$                       & \textbf{u\_star}                  & faces center              & \textbf{nodes}    & \textbf{faces}    \\ \hline
%Turbulent viscosity         & \textbf{viscosite\_turbulente}    & element gravity center    & \textbf{grav}     & \textbf{elem}     \\ \hline
%\end{longtable}


\textbf{Be carefull}, if you are in P0+P1 discretization (default option) and you post-process the pressure field at the element (or at the verteces), you will have \textbf{interpolation} because the field is calculated at the element \textbf{and} at the verteces. \\
%There is no distinction between the two fields and the code will interpolate to have pressure at the element or at the verteces.\\
%This is the same in P0+P1+Pa.




